  [1m[35m (176.1ms)[0m  [1m[35mCREATE DATABASE "vitawalletpractica_api_development" ENCODING = 'unicode'[0m
  [1m[35m (65.7ms)[0m  [1m[35mCREATE DATABASE "vitawalletpractica_api_test" ENCODING = 'unicode'[0m
  [1m[35m (53.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3854678605711923990)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsuarios (20241105201845)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE TABLE "usuarios" ("id" bigserial primary key, "nombre" character varying, "balance" decimal, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20241105201845"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2024-11-05 20:24:16.142243"], ["updated_at", "2024-11-05 20:24:16.142243"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3854678605711923990)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3854678605711923990)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateTransaccions (20241105203225)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.0ms)[0m  [1m[35mCREATE TABLE "transaccions" ("id" bigserial primary key, "usuario_id" bigint NOT NULL, "tipo" character varying, "cantidad" decimal, "precio" decimal, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_859fc7798e"
FOREIGN KEY ("usuario_id")
  REFERENCES "usuarios" ("id")
)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_transaccions_on_usuario_id" ON "transaccions" ("usuario_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20241105203225"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3854678605711923990)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/users/sign_in" for ::1 at 2024-11-05 17:36:02 -0300
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in"):
  
Started GET "/users/sign_in" for ::1 at 2024-11-05 17:36:02 -0300
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in"):
  
Started GET "/" for ::1 at 2024-11-05 17:36:05 -0300
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/agustin/.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/gems/railties-6.1.7.10/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/agustin/.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/gems/railties-6.1.7.10/lib/rails/templates/rails/welcome/index.html.erb (Duration: 3.1ms | Allocations: 182)
Completed 200 OK in 7ms (Views: 3.7ms | ActiveRecord: 0.0ms | Allocations: 1994)


Started GET "/prices/btc_usd" for ::1 at 2024-11-05 17:38:51 -0300
Processing by PricesController#show as */*
  Parameters: {"id"=>"btc_usd"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1821)


  
NameError (uninitialized constant PricesController::Price):
  
app/controllers/prices_controller.rb:8:in `show'
Started GET "/prices/btc_usd" for ::1 at 2024-11-05 17:40:28 -0300
Processing by PricesController#show as */*
  Parameters: {"id"=>"btc_usd"}
Completed 204 No Content in 329346ms (ActiveRecord: 0.0ms | Allocations: 71223)


Started GET "/prices/btc_usd" for ::1 at 2024-11-05 17:46:06 -0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PricesController#show as */*
  Parameters: {"id"=>"btc_usd"}
Completed 200 OK in 89ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 3088)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "usuarios"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUsuario Create (1.1ms)[0m  [1m[32mINSERT INTO "usuarios" ("nombre", "balance", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["nombre", "test"], ["balance", "200.0"], ["created_at", "2024-11-05 20:49:08.805737"], ["updated_at", "2024-11-05 20:49:08.805737"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3854678605711923990)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateTransaccions (20241105203225)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "transaccions"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20241105203225"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(3854678605711923990)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3854678605711923990)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsuarios (20241105201845)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "usuarios"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20241105201845"]]
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3854678605711923990)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3854678605711923990)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUser (20241105201845)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "user" ("id" bigserial primary key, "name" character varying, "balance" decimal, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20241105201845"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTransaction (20241105203225)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.8ms)[0m  [1m[35mCREATE TABLE "transaction" ("id" bigserial primary key, "user_id" bigint NOT NULL, "type" character varying, "amount" decimal, "price" decimal, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_ada67aa23a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3854678605711923990)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3854678605711923990)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateTransaction (20241105203225)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE TABLE "transaction" ("id" bigserial primary key, "users_id" bigint NOT NULL, "type" character varying, "amount" decimal, "price" decimal, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_ced14e5c33"
FOREIGN KEY ("users_id")
  REFERENCES "users" ("id")
)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3854678605711923990)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3854678605711923990)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateTransaction (20241105203225)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "transaction" ("id" bigserial primary key, "user_id" bigint NOT NULL, "type" character varying, "amount" decimal, "price" decimal, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_ada67aa23a"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3854678605711923990)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3854678605711923990)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateTransaction (20241105203225)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "users_id" bigint NOT NULL, "type" character varying, "amount" decimal, "price" decimal, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_72614b1c1d"
FOREIGN KEY ("users_id")
  REFERENCES "users" ("id")
)[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(3854678605711923990)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3854678605711923990)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUser (20241105201845)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.1ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(3854678605711923990)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3854678605711923990)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUser (20241105201845)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "user"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20241105201845"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3854678605711923990)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3854678605711923990)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUser (20241105201845)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "balance" decimal, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20241105201845"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTransaction (20241105203225)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "users_id" bigint NOT NULL, "type" character varying, "amount" decimal, "price" decimal, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_72614b1c1d"
FOREIGN KEY ("users_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_users_id" ON "transactions" ("users_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20241105203225"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3854678605711923990)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/prices/btc_usd" for ::1 at 2024-11-05 18:00:49 -0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PricesController#show as */*
  Parameters: {"id"=>"btc_usd"}
Completed 200 OK in 337ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 1064)


Started GET "/user/index" for ::1 at 2024-11-05 18:00:57 -0300
  
ActionController::RoutingError (No route matches [GET] "/user/index"):
  
Started GET "/user/index" for ::1 at 2024-11-05 18:06:39 -0300
  
ActionController::RoutingError (No route matches [GET] "/user/index"):
  
Started GET "/users/index" for ::1 at 2024-11-05 18:06:43 -0300
  
ActionController::RoutingError (No route matches [GET] "/users/index"):
  
Started GET "/users" for ::1 at 2024-11-05 18:06:50 -0300
  
ActionController::RoutingError (No route matches [GET] "/users"):
  
Started GET "/users" for ::1 at 2024-11-05 18:06:55 -0300
  
ActionController::RoutingError (No route matches [GET] "/users"):
  
Started GET "/api/users" for ::1 at 2024-11-05 18:07:14 -0300
  
ActionController::RoutingError (uninitialized constant Api::UsersController
Did you mean?  PricesController):
  
Started GET "/api/users" for ::1 at 2024-11-05 18:07:41 -0300
Processing by Api::UsersController#index as */*
Completed 204 No Content in 2ms (Allocations: 1448)


Started GET "/api/users" for ::1 at 2024-11-05 18:09:06 -0300
Processing by Api::UsersController#index as */*
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/api/users_controller.rb:4:in `index'
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 2.4ms | Allocations: 4593)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("name", "balance", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "test"], ["balance", "200.0"], ["created_at", "2024-11-05 21:10:18.813634"], ["updated_at", "2024-11-05 21:10:18.813634"]]
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
Started GET "/api/users" for ::1 at 2024-11-05 18:10:22 -0300
Processing by Api::UsersController#index as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/api/users_controller.rb:4:in `index'
Completed 200 OK in 7ms (Views: 3.7ms | ActiveRecord: 3.0ms | Allocations: 3230)


Started GET "/api/users" for ::1 at 2024-11-05 18:11:45 -0300
  
SyntaxError (/home/agustin/VitaWallet/vitawalletpractica_api/app/controllers/api/users_controller.rb:4: syntax error, unexpected ',', expecting ')'
...on: @users.reject(&:created_at, :updated_at) , status: :ok
...                              ^
):
  
app/controllers/api/users_controller.rb:4: syntax error, unexpected ',', expecting ')'
app/controllers/api/users_controller.rb:4: syntax error, unexpected ',', expecting ')'
Started GET "/api/users" for ::1 at 2024-11-05 18:14:19 -0300
Processing by Api::UsersController#index as */*
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms | Allocations: 5266)


  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  
NoMethodError (undefined method `attributes' for #<User::ActiveRecord_Relation:0x000055dd34c445c0>):
  
app/controllers/api/users_controller.rb:4:in `index'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/api/users" for ::1 at 2024-11-05 18:14:50 -0300
Processing by Api::UsersController#index as */*
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/api/users_controller.rb:4:in `index'
Completed 200 OK in 7ms (Views: 0.1ms | ActiveRecord: 1.8ms | Allocations: 3472)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3854678605711923990)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateTransaction (20241105203225)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mDROP TABLE "transactions"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20241105203225"]]
  [1m[36mTRANSACTION (1.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(3854678605711923990)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3854678605711923990)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateTransaction (20241105203225)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "users_id" bigint NOT NULL, "type" character varying, "amount_usd" decimal, "amount_btc" decimal, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_72614b1c1d"
FOREIGN KEY ("users_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_users_id" ON "transactions" ("users_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20241105203225"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3854678605711923990)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3854678605711923990)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUser (20241105201845)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3854678605711923990)[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mUser Destroy (46.6ms)[0m  [1m[31mDELETE FROM "users"[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3854678605711923990)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUser (20241105201845)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(3854678605711923990)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "transactions"[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3854678605711923990)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateTransaction (20241105203225)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mDROP TABLE "transactions"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20241105203225"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3854678605711923990)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3854678605711923990)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUser (20241105201845)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mDROP TABLE "users"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.3ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20241105201845"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3854678605711923990)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3854678605711923990)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUser (20241105201845)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (46.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "balance_usd" decimal, "balance_btc" decimal, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20241105201845"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTransaction (20241105203225)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "users_id" bigint NOT NULL, "type" character varying, "amount_usd" decimal, "amount_btc" decimal, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_72614b1c1d"
FOREIGN KEY ("users_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_users_id" ON "transactions" ("users_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20241105203225"]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3854678605711923990)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/transactions" for ::1 at 2024-11-05 18:47:45 -0300
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/transactions"):
  
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("name", "balance_usd", "balance_btc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "admin"], ["balance_usd", "600.0"], ["balance_btc", "0.0"], ["created_at", "2024-11-05 21:48:53.446085"], ["updated_at", "2024-11-05 21:48:53.446085"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
Started GET "/transactions?amount_usd=100&transaction_type=buy" for ::1 at 2024-11-05 18:50:08 -0300
  
ActionController::RoutingError (No route matches [GET] "/transactions"):
  
Started GET "/api/transactions?amount_usd=100&transaction_type=buy" for ::1 at 2024-11-05 18:50:31 -0300
  
ActionController::RoutingError (No route matches [GET] "/api/transactions"):
  
Started GET "/api/transactions?amount_usd=100&transaction_type=buy" for ::1 at 2024-11-05 18:50:47 -0300
  
ActionController::RoutingError (No route matches [GET] "/api/transactions"):
  
Started GET "/api/transactions?amount_usd=100&transaction_type=buy" for ::1 at 2024-11-05 18:53:15 -0300
  
ActionController::RoutingError (No route matches [GET] "/api/transactions"):
  
Started POST "/api/transactions?amount_usd=100&transaction_type=buy" for ::1 at 2024-11-05 18:54:19 -0300
  
ActionController::RoutingError (No route matches [POST] "/api/transactions"):
  
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3854678605711923990)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3854678605711923990)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/transactions" for ::1 at 2024-11-05 18:57:40 -0300
Processing by Api::TransactionsController#create as */*
  Parameters: {"amount_usd"=>100, "transaction_type"=>"buy", "transaction"=>{"amount_usd"=>100}}
Completed 422 Unprocessable Entity in 4ms (Views: 0.2ms | ActiveRecord: 1.9ms | Allocations: 2111)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/api/transactions" for ::1 at 2024-11-05 19:00:28 -0300
Processing by Api::TransactionsController#create as */*
  Parameters: {"amount_usd"=>100, "transaction_type"=>"buy", "transaction"=>{"amount_usd"=>100}}
Completed 422 Unprocessable Entity in 4ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 2092)


Started POST "/api/transactions" for ::1 at 2024-11-05 19:00:55 -0300
Processing by Api::TransactionsController#create as */*
  Parameters: {"amount_usd"=>100, "transaction_type"=>"buy", "transaction"=>{"amount_usd"=>100}}
Completed 422 Unprocessable Entity in 358ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 3826)


Started POST "/api/transactions" for ::1 at 2024-11-05 19:04:21 -0300
Processing by Api::TransactionsController#create as */*
  Parameters: {"amount_usd"=>100, "transaction_type"=>"buy", "transaction"=>{"amount_usd"=>100}}
Completed 422 Unprocessable Entity in 1ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 257)


Started POST "/api/transactions" for ::1 at 2024-11-05 19:04:54 -0300
Processing by Api::TransactionsController#create as */*
  Parameters: {"amount_usd"=>100, "transaction_type"=>"buy", "transaction"=>{"amount_usd"=>100}}
Completed 422 Unprocessable Entity in 32039ms (Views: 0.2ms | ActiveRecord: 0.9ms | Allocations: 37379)


Started POST "/api/transactions" for ::1 at 2024-11-05 19:05:45 -0300
Processing by Api::TransactionsController#create as */*
  Parameters: {"amount_usd"=>100, "transaction_type"=>"buy", "transaction"=>{"amount_usd"=>100}}
Completed 422 Unprocessable Entity in 2736ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 1820)


  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 1]]
Started POST "/api/transactions" for ::1 at 2024-11-05 19:07:58 -0300
Processing by Api::TransactionsController#create as */*
  Parameters: {"amount_usd"=>100, "transaction_type"=>"buy", "transaction"=>{"amount_usd"=>100}}
Completed 422 Unprocessable Entity in 4417ms (Views: 0.1ms | ActiveRecord: 0.8ms | Allocations: 2864)


Started POST "/api/transactions" for ::1 at 2024-11-05 19:08:19 -0300
Processing by Api::TransactionsController#create as */*
  Parameters: {"amount_usd"=>100, "transaction_type"=>"buy", "transaction"=>{"amount_usd"=>100}}
Completed 422 Unprocessable Entity in 3624ms (Views: 0.2ms | ActiveRecord: 0.8ms | Allocations: 2777)


Started POST "/api/transactions" for ::1 at 2024-11-05 19:09:44 -0300
Processing by Api::TransactionsController#create as */*
  Parameters: {"amount_usd"=>100, "transaction_type"=>"buy", "transaction"=>{"amount_usd"=>100}}
Completed 422 Unprocessable Entity in 2600ms (Views: 0.2ms | ActiveRecord: 2.5ms | Allocations: 6495)


Started POST "/api/transactions" for ::1 at 2024-11-05 19:10:58 -0300
  
SyntaxError (/home/agustin/VitaWallet/vitawalletpractica_api/app/controllers/api/transactions_controller.rb:37: syntax error, unexpected `end', expecting end-of-input):
  
app/controllers/api/transactions_controller.rb:37: syntax error, unexpected `end', expecting end-of-input
app/controllers/api/transactions_controller.rb:37: syntax error, unexpected `end', expecting end-of-input
Started POST "/api/transactions" for ::1 at 2024-11-05 19:11:08 -0300
Processing by Api::TransactionsController#create as */*
  Parameters: {"amount_usd"=>100, "transaction_type"=>"buy", "transaction"=>{"amount_usd"=>100}}
Completed 422 Unprocessable Entity in 4ms (Views: 0.1ms | ActiveRecord: 0.9ms | Allocations: 2023)


Started POST "/api/transactions" for ::1 at 2024-11-05 19:11:34 -0300
Processing by Api::TransactionsController#create as */*
  Parameters: {"amount_usd"=>100, "transaction_type"=>"buy", "transaction"=>{"amount_usd"=>100}}
Completed 422 Unprocessable Entity in 313ms (Views: 0.2ms | ActiveRecord: 2.0ms | Allocations: 4583)


Started POST "/api/transactions" for ::1 at 2024-11-05 19:12:06 -0300
Processing by Api::TransactionsController#create as */*
  Parameters: {"amount_usd"=>100, "transaction_type"=>"buy", "transaction"=>{"amount_usd"=>100}}
Completed 422 Unprocessable Entity in 28228ms (Views: 0.2ms | ActiveRecord: 2.7ms | Allocations: 7263)


Started POST "/api/transactions" for ::1 at 2024-11-05 19:12:40 -0300
Processing by Api::TransactionsController#create as */*
  Parameters: {"amount_usd"=>100, "transaction_type"=>"buy", "transaction"=>{"amount_usd"=>100}}
Completed 422 Unprocessable Entity in 57ms (Views: 0.2ms | ActiveRecord: 2.1ms | Allocations: 4544)


Started GET "/api/users" for ::1 at 2024-11-07 16:13:27 -0300
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::UsersController#index as */*
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/api/users_controller.rb:4:in `index'
Completed 200 OK in 19ms (Views: 0.2ms | ActiveRecord: 5.1ms | Allocations: 6969)


Started GET "/prices/btc_usd" for ::1 at 2024-11-07 16:13:40 -0300
Processing by PricesController#show as */*
  Parameters: {"id"=>"btc_usd"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1142)


  
ArgumentError (Unrecognized status code :error):
  
app/controllers/prices_controller.rb:8:in `rescue in show'
app/controllers/prices_controller.rb:3:in `show'
Started GET "/prices/btc_usd" for ::1 at 2024-11-07 16:14:12 -0300
Processing by PricesController#show as */*
  Parameters: {"id"=>"btc_usd"}
Completed 200 OK in 88ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1127)


Started GET "/prices/btc_usd" for ::1 at 2024-11-07 16:15:09 -0300
Processing by PricesController#show as */*
  Parameters: {"id"=>"btc_usd"}
Completed 200 OK in 52ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 1070)


Started GET "/prices/btc_usd" for ::1 at 2024-11-07 16:15:11 -0300
Processing by PricesController#show as */*
  Parameters: {"id"=>"btc_usd"}
Completed 200 OK in 23ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 981)


Started GET "/prices/btc_usd" for ::1 at 2024-11-07 16:15:12 -0300
Processing by PricesController#show as */*
  Parameters: {"id"=>"btc_usd"}
Completed 200 OK in 85ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 978)


Started GET "/prices/btc_usd" for ::1 at 2024-11-07 16:15:14 -0300
Processing by PricesController#show as */*
  Parameters: {"id"=>"btc_usd"}
Completed 200 OK in 22ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 976)


Started GET "/prices/btc_usd" for ::1 at 2024-11-07 16:15:15 -0300
Processing by PricesController#show as */*
  Parameters: {"id"=>"btc_usd"}
Completed 200 OK in 22ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 975)


Started GET "/prices/btc_usd" for ::1 at 2024-11-07 16:15:16 -0300
Processing by PricesController#show as */*
  Parameters: {"id"=>"btc_usd"}
Completed 200 OK in 56ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 974)


Started GET "/prices/btc_usd" for ::1 at 2024-11-07 16:15:17 -0300
Processing by PricesController#show as */*
  Parameters: {"id"=>"btc_usd"}
Completed 200 OK in 26ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 976)


Started POST "/api/users/1/transactions/create_trade" for ::1 at 2024-11-07 16:26:52 -0300
  
ArgumentError (can't use collection outside resource(s) scope):
  
config/routes.rb:6:in `block (2 levels) in <main>'
config/routes.rb:2:in `block in <main>'
config/routes.rb:1:in `<main>'
Started POST "/api/users/1/transactions/create_trade" for ::1 at 2024-11-07 16:29:17 -0300
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
SyntaxError (/home/agustin/VitaWallet/vitawalletpractica_api/app/models/transaction.rb:2: syntax error, unexpected local variable or method, expecting `end'
  belongs_to :user  foreign_key: "users_id"
                    ^~~~~~~~~~~
):
  
app/models/transaction.rb:2: syntax error, unexpected local variable or method, expecting `end'
app/models/transaction.rb:2: syntax error, unexpected local variable or method, expecting `end'
Started POST "/api/users/1/transactions/create_trade" for ::1 at 2024-11-07 16:29:42 -0300
Processing by Api::TransactionsController#create_trade as */*
  Parameters: {"amount_to_send"=>100, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:3:in `create_trade'
Completed 422 Unprocessable Entity in 104ms (Views: 0.1ms | ActiveRecord: 2.7ms | Allocations: 10945)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3854678605711923990)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateTransaction (20241105203225)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (6.2ms)[0m  [1m[35mDROP TABLE "transactions"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20241105203225"]]
  [1m[36mTRANSACTION (50.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3854678605711923990)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3854678605711923990)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateTransaction (20241105203225)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (61.7ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "users_id" bigint NOT NULL, "transaction_type" character varying, "amount_usd" decimal, "amount_btc" decimal, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_72614b1c1d"
FOREIGN KEY ("users_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_users_id" ON "transactions" ("users_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20241105203225"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.7ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(3854678605711923990)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/users/1/transactions/create_trade" for ::1 at 2024-11-07 16:31:50 -0300
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::TransactionsController#create_trade as */*
  Parameters: {"amount_to_send"=>100, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:3:in `create_trade'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/transaction_service.rb:17:in `block in process_transaction'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/transaction_service.rb:12:in `process_transaction'
Completed 422 Unprocessable Entity in 101ms (Views: 0.1ms | ActiveRecord: 3.9ms | Allocations: 8573)


Started POST "/api/users/1/transactions/create_trade" for ::1 at 2024-11-07 16:31:59 -0300
Processing by Api::TransactionsController#create_trade as */*
  Parameters: {"amount_to_send"=>100, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:3:in `create_trade'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/transaction_service.rb:17:in `block in process_transaction'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/transaction_service.rb:12:in `process_transaction'
Completed 422 Unprocessable Entity in 35ms (Views: 0.1ms | ActiveRecord: 3.0ms | Allocations: 9353)


Started POST "/api/users/1/transactions/create_trade" for ::1 at 2024-11-07 16:33:19 -0300
Processing by Api::TransactionsController#create_trade as */*
  Parameters: {"amount_to_send"=>100, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ (byebug):1:in `create_trade'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:4:in `create_trade'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/transaction_service.rb:17:in `block in process_transaction'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/transaction_service.rb:12:in `process_transaction'
Completed 422 Unprocessable Entity in 16269ms (Views: 0.1ms | ActiveRecord: 4.4ms | Allocations: 46851)


Started POST "/api/users/1/transactions/create_trade" for ::1 at 2024-11-07 16:35:00 -0300
Processing by Api::TransactionsController#create_trade as */*
  Parameters: {"amount_to_send"=>100, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
Completed 404 Not Found in 4254ms (ActiveRecord: 2.0ms | Allocations: 2468)


  
ActiveRecord::RecordNotFound (Couldn't find User without an ID):
  
app/controllers/api/transactions_controller.rb:4:in `create_trade'
Started POST "/api/users/1/transactions/create_trade" for ::1 at 2024-11-07 16:35:39 -0300
Processing by Api::TransactionsController#create_trade as */*
  Parameters: {"amount_to_send"=>100, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:3:in `create_trade'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ (byebug):1:in `block in process_transaction'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (byebug):1:in `block in process_transaction'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (byebug):1:in `block in process_transaction'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (byebug):1:in `block in process_transaction'
  [1m[36mCACHE User Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 1]]
  ↳ (byebug):1:in `block in process_transaction'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/transaction_service.rb:12:in `process_transaction'
Completed 422 Unprocessable Entity in 93089ms (Views: 0.2ms | ActiveRecord: 4.3ms | Allocations: 24369)


Started POST "/api/users/1/transactions/create_trade" for ::1 at 2024-11-07 16:37:27 -0300
Processing by Api::TransactionsController#create_trade as */*
  Parameters: {"amount_to_send"=>100, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:3:in `create_trade'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/transaction_service.rb:18:in `block in process_transaction'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/transaction_service.rb:12:in `process_transaction'
Completed 422 Unprocessable Entity in 33ms (Views: 0.1ms | ActiveRecord: 3.5ms | Allocations: 8522)


Started POST "/api/users/1/transactions/create_trade" for ::1 at 2024-11-07 16:38:21 -0300
Processing by Api::TransactionsController#create_trade as */*
  Parameters: {"amount_to_send"=>100, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:3:in `create_trade'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/transaction_service.rb:18:in `block in process_transaction'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/transaction_service.rb:12:in `process_transaction'
Completed 422 Unprocessable Entity in 93ms (Views: 0.1ms | ActiveRecord: 3.4ms | Allocations: 8329)


Started POST "/api/users/1/transactions/create_trade" for ::1 at 2024-11-07 16:38:49 -0300
Processing by Api::TransactionsController#create_trade as */*
  Parameters: {"amount_to_send"=>100, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:3:in `create_trade'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/transaction_service.rb:18:in `block in process_transaction'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/transaction_service.rb:12:in `process_transaction'
Completed 422 Unprocessable Entity in 120ms (Views: 0.1ms | ActiveRecord: 3.5ms | Allocations: 8399)


Started POST "/api/users/1/transactions/create_trade" for ::1 at 2024-11-07 16:39:02 -0300
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::TransactionsController#create_trade as */*
  Parameters: {"amount_to_send"=>100, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:3:in `create_trade'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/transaction_service.rb:18:in `block in process_transaction'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/transaction_service.rb:12:in `process_transaction'
Completed 422 Unprocessable Entity in 40ms (Views: 0.2ms | ActiveRecord: 3.5ms | Allocations: 13861)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3854678605711923990)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateTransaction (20241105203225)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mDROP TABLE "transactions"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20241105203225"]]
  [1m[36mTRANSACTION (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3854678605711923990)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3854678605711923990)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateTransaction (20241105203225)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (54.1ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "user_id" bigint NOT NULL, "transaction_type" character varying, "amount_usd" decimal, "amount_btc" decimal, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_77364e6416"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_user_id" ON "transactions" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20241105203225"]]
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(3854678605711923990)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/users/1/transactions/create_trade" for ::1 at 2024-11-07 16:40:26 -0300
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::TransactionsController#create_trade as */*
  Parameters: {"amount_to_send"=>100, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:3:in `create_trade'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/transaction_service.rb:18:in `block in process_transaction'
  [1m[36mTransaction Create (1.2ms)[0m  [1m[32mINSERT INTO "transactions" ("user_id", "transaction_type", "amount_usd", "amount_btc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["transaction_type", "buy"], ["amount_usd", "100.0"], ["amount_btc", "0.001309876825850570055971338"], ["created_at", "2024-11-07 19:40:26.956812"], ["updated_at", "2024-11-07 19:40:26.956812"]]
  ↳ app/services/transaction_service.rb:18:in `block in process_transaction'
  [1m[36mUser Update (0.5ms)[0m  [1m[33mUPDATE "users" SET "balance_usd" = $1, "balance_btc" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["balance_usd", "500.0"], ["balance_btc", "0.001309876825850570055971338"], ["updated_at", "2024-11-07 19:40:26.960013"], ["id", 1]]
  ↳ app/services/transaction_service.rb:58:in `update_user_balance!'
  [1m[36mTRANSACTION (49.3ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/transaction_service.rb:12:in `process_transaction'
Completed 201 Created in 153ms (Views: 0.4ms | ActiveRecord: 55.4ms | Allocations: 16285)


Started POST "/api/users/1/transactions/create_trade" for ::1 at 2024-11-07 16:41:01 -0300
Processing by Api::TransactionsController#create_trade as */*
  Parameters: {"amount_to_send"=>500, "currency_to_send"=>"BTC", "currency_to_receive"=>"USD", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:3:in `create_trade'
Completed 422 Unprocessable Entity in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 635)


Started POST "/api/users/1/transactions/create_trade" for ::1 at 2024-11-07 16:41:05 -0300
Processing by Api::TransactionsController#create_trade as */*
  Parameters: {"amount_to_send"=>100, "currency_to_send"=>"BTC", "currency_to_receive"=>"USD", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:3:in `create_trade'
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 635)


Started POST "/api/users/1/transactions/create_trade" for ::1 at 2024-11-07 16:41:19 -0300
Processing by Api::TransactionsController#create_trade as */*
  Parameters: {"amount_to_send"=>100, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:3:in `create_trade'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/transaction_service.rb:18:in `block in process_transaction'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("user_id", "transaction_type", "amount_usd", "amount_btc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["transaction_type", "buy"], ["amount_usd", "100.0"], ["amount_btc", "0.001311317186734254279873428"], ["created_at", "2024-11-07 19:41:20.038863"], ["updated_at", "2024-11-07 19:41:20.038863"]]
  ↳ app/services/transaction_service.rb:18:in `block in process_transaction'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "balance_usd" = $1, "balance_btc" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["balance_usd", "400.0"], ["balance_btc", "0.002621194012584824335844766"], ["updated_at", "2024-11-07 19:41:20.040951"], ["id", 1]]
  ↳ app/services/transaction_service.rb:58:in `update_user_balance!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/transaction_service.rb:12:in `process_transaction'
Completed 201 Created in 59ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 4100)


Started POST "/api/users/1/transactions/create_trade" for ::1 at 2024-11-07 16:42:16 -0300
Processing by Api::TransactionsController#create_trade as */*
  Parameters: {"amount_to_send"=>100, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:3:in `create_trade'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/transaction_service.rb:17:in `block in process_transaction'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("user_id", "transaction_type", "amount_usd", "amount_btc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["transaction_type", "buy"], ["amount_usd", "100.0"], ["amount_btc", "0.001312359795763691817924478"], ["created_at", "2024-11-07 19:42:16.578812"], ["updated_at", "2024-11-07 19:42:16.578812"]]
  ↳ app/services/transaction_service.rb:17:in `block in process_transaction'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "balance_usd" = $1, "balance_btc" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["balance_usd", "300.0"], ["balance_btc", "0.003933553808348516153769244"], ["updated_at", "2024-11-07 19:42:16.580603"], ["id", 1]]
  ↳ app/services/transaction_service.rb:58:in `update_user_balance!'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/transaction_service.rb:12:in `process_transaction'
Completed 500 Internal Server Error in 17801ms (ActiveRecord: 4.1ms | Allocations: 114384)


  
SystemExit (exit):
  
(byebug):1:in `exit'
(byebug):1:in `block in process_transaction'
app/services/transaction_service.rb:27:in `block in process_transaction'
app/services/transaction_service.rb:12:in `process_transaction'
app/controllers/api/transactions_controller.rb:11:in `create_trade'
Started POST "/api/users/1/transactions/create_trade" for ::1 at 2024-11-07 16:43:04 -0300
Processing by Api::TransactionsController#create_trade as */*
  Parameters: {"amount_to_send"=>100, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:3:in `create_trade'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/transaction_service.rb:17:in `block in process_transaction'
  [1m[36mTransaction Create (0.8ms)[0m  [1m[32mINSERT INTO "transactions" ("user_id", "transaction_type", "amount_usd", "amount_btc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["transaction_type", "buy"], ["amount_usd", "100.0"], ["amount_btc", "0.00131362440633437885750733"], ["created_at", "2024-11-07 19:43:04.684103"], ["updated_at", "2024-11-07 19:43:04.684103"]]
  ↳ app/services/transaction_service.rb:17:in `block in process_transaction'
  [1m[36mUser Update (0.7ms)[0m  [1m[33mUPDATE "users" SET "balance_usd" = $1, "balance_btc" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["balance_usd", "300.0"], ["balance_btc", "0.003934818418919203193352096"], ["updated_at", "2024-11-07 19:43:04.720412"], ["id", 1]]
  ↳ app/services/transaction_service.rb:58:in `update_user_balance!'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/transaction_service.rb:12:in `process_transaction'
Completed 500 Internal Server Error in 3144ms (ActiveRecord: 3.3ms | Allocations: 1152443)


  
NoMethodError (undefined method `[]' for nil:NilClass):
  
app/controllers/api/transactions_controller.rb:16:in `create_trade'
Started POST "/api/users/1/transactions/create_trade" for ::1 at 2024-11-07 16:43:21 -0300
Processing by Api::TransactionsController#create_trade as */*
  Parameters: {"amount_to_send"=>100, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:3:in `create_trade'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/transaction_service.rb:17:in `block in process_transaction'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("user_id", "transaction_type", "amount_usd", "amount_btc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["transaction_type", "buy"], ["amount_usd", "100.0"], ["amount_btc", "0.001312578969426863126392893946998751"], ["created_at", "2024-11-07 19:43:21.312608"], ["updated_at", "2024-11-07 19:43:21.312608"]]
  ↳ app/services/transaction_service.rb:17:in `block in process_transaction'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "balance_usd" = $1, "balance_btc" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["balance_usd", "200.0"], ["balance_btc", "0.005247397388346066319744989946998751"], ["updated_at", "2024-11-07 19:43:21.314754"], ["id", 1]]
  ↳ app/services/transaction_service.rb:57:in `update_user_balance!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/transaction_service.rb:12:in `process_transaction'
Completed 201 Created in 191ms (Views: 0.4ms | ActiveRecord: 4.4ms | Allocations: 10149)


Started POST "/api/users/1/transactions/create_trade" for ::1 at 2024-11-07 16:45:21 -0300
Processing by Api::TransactionsController#create_trade as */*
  Parameters: {"amount_to_send"=>100, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:3:in `create_trade'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/transaction_service.rb:17:in `block in process_transaction'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("user_id", "transaction_type", "amount_usd", "amount_btc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["transaction_type", "buy"], ["amount_usd", "100.0"], ["amount_btc", "0.00131072819849960392611907"], ["created_at", "2024-11-07 19:45:22.030580"], ["updated_at", "2024-11-07 19:45:22.030580"]]
  ↳ app/services/transaction_service.rb:17:in `block in process_transaction'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "balance_usd" = $1, "balance_btc" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["balance_usd", "100.0"], ["balance_btc", "0.006558125586845670245864059946998751"], ["updated_at", "2024-11-07 19:45:22.033663"], ["id", 1]]
  ↳ app/services/transaction_service.rb:63:in `update_user_balance!'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/transaction_service.rb:12:in `process_transaction'
Completed 422 Unprocessable Entity in 105ms (Views: 0.2ms | ActiveRecord: 6.8ms | Allocations: 10093)


Started POST "/api/users/1/transactions/create_trade" for ::1 at 2024-11-07 16:46:23 -0300
Processing by Api::TransactionsController#create_trade as */*
  Parameters: {"amount_to_send"=>100, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:3:in `create_trade'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/transaction_service.rb:17:in `block in process_transaction'
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("user_id", "transaction_type", "amount_usd", "amount_btc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["transaction_type", "buy"], ["amount_usd", "100.0"], ["amount_btc", "0.001310740192026059612201785"], ["created_at", "2024-11-07 19:46:23.290257"], ["updated_at", "2024-11-07 19:46:23.290257"]]
  ↳ app/services/transaction_service.rb:17:in `block in process_transaction'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "balance_usd" = $1, "balance_btc" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["balance_usd", "0.0"], ["balance_btc", "0.007868865778871729858065844946998751"], ["updated_at", "2024-11-07 19:46:23.291488"], ["id", 1]]
  ↳ app/services/transaction_service.rb:63:in `update_user_balance!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/transaction_service.rb:12:in `process_transaction'
Completed 422 Unprocessable Entity in 116ms (Views: 0.1ms | ActiveRecord: 3.8ms | Allocations: 10073)


Started POST "/api/users/1/transactions/create_trade" for ::1 at 2024-11-07 16:48:45 -0300
Processing by Api::TransactionsController#create_trade as */*
  Parameters: {"amount_to_send"=>100, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:3:in `create_trade'
Completed 422 Unprocessable Entity in 6ms (Views: 0.1ms | ActiveRecord: 2.3ms | Allocations: 4111)


  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "balance_usd" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["balance_usd", "10000.0"], ["updated_at", "2024-11-07 19:49:12.857867"], ["id", 1]]
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
Started POST "/api/users/1/transactions/create_trade" for ::1 at 2024-11-07 16:49:18 -0300
Processing by Api::TransactionsController#create_trade as */*
  Parameters: {"amount_to_send"=>100, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:3:in `create_trade'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/transaction_service.rb:17:in `block in process_transaction'
  [1m[36mTransaction Create (0.2ms)[0m  [1m[32mINSERT INTO "transactions" ("user_id", "transaction_type", "amount_usd", "amount_btc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["transaction_type", "buy"], ["amount_usd", "100.0"], ["amount_btc", "0.001310133717789103182118673"], ["created_at", "2024-11-07 19:49:18.125289"], ["updated_at", "2024-11-07 19:49:18.125289"]]
  ↳ app/services/transaction_service.rb:17:in `block in process_transaction'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "balance_usd" = $1, "balance_btc" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["balance_usd", "9900.0"], ["balance_btc", "0.009178999496660833040184517946998751"], ["updated_at", "2024-11-07 19:49:18.126702"], ["id", 1]]
  ↳ app/services/transaction_service.rb:65:in `update_user_balance!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/transaction_service.rb:12:in `process_transaction'
Completed 422 Unprocessable Entity in 127ms (Views: 0.1ms | ActiveRecord: 2.4ms | Allocations: 6611)


Started POST "/api/users/1/transactions/create_trade" for ::1 at 2024-11-07 16:49:37 -0300
Processing by Api::TransactionsController#create_trade as */*
  Parameters: {"amount_to_send"=>1, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:3:in `create_trade'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/transaction_service.rb:17:in `block in process_transaction'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("user_id", "transaction_type", "amount_usd", "amount_btc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["transaction_type", "buy"], ["amount_usd", "1.0"], ["amount_btc", "0.000013097670338857006859915"], ["created_at", "2024-11-07 19:49:37.590675"], ["updated_at", "2024-11-07 19:49:37.590675"]]
  ↳ app/services/transaction_service.rb:17:in `block in process_transaction'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "balance_usd" = $1, "balance_btc" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["balance_usd", "9899.0"], ["balance_btc", "0.009192097166999690047044432946998751"], ["updated_at", "2024-11-07 19:49:37.593458"], ["id", 1]]
  ↳ app/services/transaction_service.rb:65:in `update_user_balance!'
  [1m[36mTRANSACTION (4.2ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/transaction_service.rb:12:in `process_transaction'
Completed 422 Unprocessable Entity in 89707ms (Views: 0.1ms | ActiveRecord: 7.8ms | Allocations: 15166)


Started POST "/api/users/1/transactions/create_trade" for ::1 at 2024-11-07 16:51:10 -0300
Processing by Api::TransactionsController#create_trade as */*
  Parameters: {"amount_to_send"=>1, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:3:in `create_trade'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/transaction_service.rb:17:in `block in process_transaction'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("user_id", "transaction_type", "amount_usd", "amount_btc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["transaction_type", "buy"], ["amount_usd", "1.0"], ["amount_btc", "0.0000130650451398747"], ["created_at", "2024-11-07 19:51:10.385471"], ["updated_at", "2024-11-07 19:51:10.385471"]]
  ↳ app/services/transaction_service.rb:17:in `block in process_transaction'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "balance_usd" = $1, "balance_btc" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["balance_usd", "9898.0"], ["balance_btc", "0.009205162212139564717044432946998751"], ["updated_at", "2024-11-07 19:51:10.387429"], ["id", 1]]
  ↳ app/services/transaction_service.rb:66:in `update_user_balance!'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/transaction_service.rb:12:in `process_transaction'
Completed 201 Created in 2168ms (Views: 0.3ms | ActiveRecord: 5.5ms | Allocations: 12657)


Started POST "/api/users/1/transactions/create_trade" for ::1 at 2024-11-07 16:51:44 -0300
Processing by Api::TransactionsController#create_trade as */*
  Parameters: {"amount_to_send"=>98, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:3:in `create_trade'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/transaction_service.rb:17:in `block in process_transaction'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("user_id", "transaction_type", "amount_usd", "amount_btc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["transaction_type", "buy"], ["amount_usd", "98.0"], ["amount_btc", "0.00128070001787504"], ["created_at", "2024-11-07 19:51:44.383637"], ["updated_at", "2024-11-07 19:51:44.383637"]]
  ↳ app/services/transaction_service.rb:17:in `block in process_transaction'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "balance_usd" = $1, "balance_btc" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["balance_usd", "9800.0"], ["balance_btc", "0.010485862230014608717044432946998751"], ["updated_at", "2024-11-07 19:51:44.388155"], ["id", 1]]
  ↳ app/services/transaction_service.rb:66:in `update_user_balance!'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[31mROLLBACK[0m
  ↳ app/services/transaction_service.rb:12:in `process_transaction'
Completed 422 Unprocessable Entity in 2474ms (Views: 0.7ms | ActiveRecord: 4.1ms | Allocations: 13780)


Started POST "/api/users/1/transactions/create_trade" for ::1 at 2024-11-07 16:52:06 -0300
Processing by Api::TransactionsController#create_trade as */*
  Parameters: {"amount_to_send"=>98, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:3:in `create_trade'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/transaction_service.rb:17:in `block in process_transaction'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("user_id", "transaction_type", "amount_usd", "amount_btc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["transaction_type", "buy"], ["amount_usd", "98.0"], ["amount_btc", "0.00128070001787504"], ["created_at", "2024-11-07 19:52:06.515637"], ["updated_at", "2024-11-07 19:52:06.515637"]]
  ↳ app/services/transaction_service.rb:17:in `block in process_transaction'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "balance_usd" = $1, "balance_btc" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["balance_usd", "9800.0"], ["balance_btc", "0.010485862230014608717044432946998751"], ["updated_at", "2024-11-07 19:52:06.517599"], ["id", 1]]
  ↳ app/services/transaction_service.rb:65:in `update_user_balance!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/transaction_service.rb:12:in `process_transaction'
Completed 201 Created in 41ms (Views: 0.1ms | ActiveRecord: 4.5ms | Allocations: 10192)


Started POST "/api/users/1/transactions/create_trade" for ::1 at 2024-11-07 16:52:49 -0300
Processing by Api::TransactionsController#create_trade as */*
  Parameters: {"amount_to_send"=>0.00011, "currency_to_send"=>"BTC", "currency_to_receive"=>"USD", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:3:in `create_trade'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/transaction_service.rb:17:in `block in process_transaction'
  [1m[36mTransaction Create (0.3ms)[0m  [1m[32mINSERT INTO "transactions" ("user_id", "transaction_type", "amount_usd", "amount_btc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["transaction_type", "sell"], ["amount_usd", "8.412044773"], ["amount_btc", "0.00011"], ["created_at", "2024-11-07 19:52:49.867123"], ["updated_at", "2024-11-07 19:52:49.867123"]]
  ↳ app/services/transaction_service.rb:17:in `block in process_transaction'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "balance_usd" = $1, "balance_btc" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["balance_usd", "9808.412044773000002"], ["balance_btc", "0.010375862230014608717044432946998751"], ["updated_at", "2024-11-07 19:52:49.870088"], ["id", 1]]
  ↳ app/services/transaction_service.rb:70:in `update_user_balance!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/transaction_service.rb:12:in `process_transaction'
Completed 201 Created in 90ms (Views: 0.2ms | ActiveRecord: 1.4ms | Allocations: 4155)


Started POST "/api/users/1/transactions/buy" for ::1 at 2024-11-07 16:56:39 -0300
  
ActionController::RoutingError (No route matches [POST] "/api/users/1/transactions/buy"):
  
Started POST "/api/users/1/transactions/buy" for ::1 at 2024-11-07 16:58:02 -0300
  
SyntaxError (/home/agustin/VitaWallet/vitawalletpractica_api/app/controllers/api/transactions_controller.rb:53: syntax error, unexpected `end', expecting end-of-input):
  
app/controllers/api/transactions_controller.rb:53: syntax error, unexpected `end', expecting end-of-input
app/controllers/api/transactions_controller.rb:53: syntax error, unexpected `end', expecting end-of-input
Started POST "/api/users/1/transactions/buy" for ::1 at 2024-11-07 16:58:20 -0300
Processing by Api::TransactionsController#create_buy as */*
  Parameters: {"amount_to_send"=>100, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:3:in `create_buy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/transaction_service.rb:17:in `block in process_buy_transaction'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("user_id", "transaction_type", "amount_usd", "amount_btc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["transaction_type", "buy"], ["amount_usd", "100.0"], ["amount_btc", "0.00130616375830105"], ["created_at", "2024-11-07 19:58:21.002674"], ["updated_at", "2024-11-07 19:58:21.002674"]]
  ↳ app/services/transaction_service.rb:17:in `block in process_buy_transaction'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "balance_usd" = $1, "balance_btc" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["balance_usd", "9708.412044773000002"], ["balance_btc", "0.011682025988315661717044432946998751"], ["updated_at", "2024-11-07 19:58:21.004972"], ["id", 1]]
  ↳ app/services/transaction_service.rb:73:in `update_user_balance!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/transaction_service.rb:12:in `process_buy_transaction'
Completed 201 Created in 221ms (Views: 0.3ms | ActiveRecord: 4.7ms | Allocations: 10212)


Started GET "/api/users/1/transactions/buy" for ::1 at 2024-11-07 16:58:48 -0300
  
ActionController::RoutingError (No route matches [GET] "/api/users/1/transactions/buy"):
  
Started POST "/api/users/1/transactions/sell" for ::1 at 2024-11-07 16:58:58 -0300
Processing by Api::TransactionsController#create_sell as */*
  Parameters: {"amount_to_send"=>0.001, "currency_to_send"=>"BTC", "currency_to_receive"=>"USD", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:22:in `create_sell'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/transaction_service.rb:37:in `block in process_sell_transaction'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("user_id", "transaction_type", "amount_usd", "amount_btc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["transaction_type", "sell"], ["amount_usd", "76.5879989"], ["amount_btc", "0.001"], ["created_at", "2024-11-07 19:58:58.888391"], ["updated_at", "2024-11-07 19:58:58.888391"]]
  ↳ app/services/transaction_service.rb:37:in `block in process_sell_transaction'
  [1m[36mUser Update (0.1ms)[0m  [1m[33mUPDATE "users" SET "balance_usd" = $1, "balance_btc" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["balance_usd", "9785.000043673000002"], ["balance_btc", "0.010682025988315661717044432946998751"], ["updated_at", "2024-11-07 19:58:58.891122"], ["id", 1]]
  ↳ app/services/transaction_service.rb:78:in `update_user_balance!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/transaction_service.rb:32:in `process_sell_transaction'
Completed 201 Created in 293ms (Views: 0.2ms | ActiveRecord: 1.3ms | Allocations: 4122)


Started GET "/api/users/1/transactions" for ::1 at 2024-11-07 17:00:08 -0300
Processing by Api::TransactionsController#index as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:41:in `index'
  [1m[36mTransaction Load (0.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/controllers/api/transactions_controller.rb:43:in `index'
Completed 200 OK in 23ms (Views: 9.8ms | ActiveRecord: 4.2ms | Allocations: 9475)


Started POST "/api/users/1/transactions/buy" for ::1 at 2024-11-07 17:00:34 -0300
Processing by Api::TransactionsController#create_buy as */*
  Parameters: {"amount_to_send"=>100, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:3:in `create_buy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/transaction_service.rb:17:in `block in process_buy_transaction'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("user_id", "transaction_type", "amount_usd", "amount_btc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["transaction_type", "buy"], ["amount_usd", "100.0"], ["amount_btc", "0.00130451938059479"], ["created_at", "2024-11-07 20:00:34.682721"], ["updated_at", "2024-11-07 20:00:34.682721"]]
  ↳ app/services/transaction_service.rb:17:in `block in process_buy_transaction'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "balance_usd" = $1, "balance_btc" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["balance_usd", "9685.000043673000002"], ["balance_btc", "0.011986545368910448717044432946998751"], ["updated_at", "2024-11-07 20:00:34.692619"], ["id", 1]]
  ↳ app/services/transaction_service.rb:73:in `update_user_balance!'
  [1m[36mTRANSACTION (41.1ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/transaction_service.rb:12:in `process_buy_transaction'
Completed 201 Created in 437ms (Views: 0.3ms | ActiveRecord: 42.1ms | Allocations: 4329)


Started POST "/api/users/1/transactions/buy" for ::1 at 2024-11-07 17:02:49 -0300
Processing by Api::TransactionsController#create_buy as */*
  Parameters: {"amount_to_send"=>100, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:3:in `create_buy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/transaction_service.rb:17:in `block in process_buy_transaction'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("user_id", "transaction_type", "amount_usd", "amount_btc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["transaction_type", "buy"], ["amount_usd", "100.0"], ["amount_btc", "0.00130487818701801"], ["created_at", "2024-11-07 20:02:50.193279"], ["updated_at", "2024-11-07 20:02:50.193279"]]
  ↳ app/services/transaction_service.rb:17:in `block in process_buy_transaction'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "balance_usd" = $1, "balance_btc" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["balance_usd", "9585.000043673000002"], ["balance_btc", "0.013291423555928458717044432946998751"], ["updated_at", "2024-11-07 20:02:50.195772"], ["id", 1]]
  ↳ app/services/transaction_service.rb:81:in `update_user_balance!'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/transaction_service.rb:12:in `process_buy_transaction'
Completed 201 Created in 219ms (Views: 0.3ms | ActiveRecord: 5.0ms | Allocations: 10224)


Started POST "/api/users/1/transactions/buy" for ::1 at 2024-11-07 17:03:25 -0300
Processing by Api::TransactionsController#create_buy as */*
  Parameters: {"amount_to_send"=>100, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:3:in `create_buy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/transaction_service.rb:17:in `block in process_buy_transaction'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("user_id", "transaction_type", "amount_usd", "amount_btc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["transaction_type", "buy"], ["amount_usd", "100.0"], ["amount_btc", "0.00130535921045755"], ["created_at", "2024-11-07 20:03:25.536728"], ["updated_at", "2024-11-07 20:03:25.536728"]]
  ↳ app/services/transaction_service.rb:17:in `block in process_buy_transaction'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "balance_usd" = $1, "balance_btc" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["balance_usd", "9485.000043673000002"], ["balance_btc", "0.014596782766386012717044432946998751"], ["updated_at", "2024-11-07 20:03:25.539021"], ["id", 1]]
  ↳ app/services/transaction_service.rb:81:in `update_user_balance!'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/transaction_service.rb:12:in `process_buy_transaction'
Completed 201 Created in 333ms (Views: 0.3ms | ActiveRecord: 6.1ms | Allocations: 10181)


Started POST "/api/users/1/transactions/buy" for ::1 at 2024-11-07 17:03:38 -0300
Processing by Api::TransactionsController#create_buy as */*
  Parameters: {"amount_to_send"=>100, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:3:in `create_buy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/transaction_service.rb:17:in `block in process_buy_transaction'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("user_id", "transaction_type", "amount_usd", "amount_btc", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["user_id", 1], ["transaction_type", "buy"], ["amount_usd", "100.0"], ["amount_btc", "0.00130535921045755"], ["created_at", "2024-11-07 20:03:38.872579"], ["updated_at", "2024-11-07 20:03:38.872579"]]
  ↳ app/services/transaction_service.rb:17:in `block in process_buy_transaction'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "balance_usd" = $1, "balance_btc" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["balance_usd", "9385.000043673000002"], ["balance_btc", "0.015902141976843566717044432946998751"], ["updated_at", "2024-11-07 20:03:38.874340"], ["id", 1]]
  ↳ app/services/transaction_service.rb:81:in `update_user_balance!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/transaction_service.rb:12:in `process_buy_transaction'
Completed 201 Created in 38ms (Views: 0.2ms | ActiveRecord: 4.5ms | Allocations: 10241)


Started GET "/api/users/1/transactions" for ::1 at 2024-11-07 17:03:52 -0300
Processing by Api::TransactionsController#index as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:41:in `index'
  [1m[36mTransaction Load (0.1ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/controllers/api/transactions_controller.rb:43:in `index'
Completed 200 OK in 4ms (Views: 2.3ms | ActiveRecord: 0.3ms | Allocations: 3322)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3854678605711923990)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateTransaction (20241105203225)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.7ms)[0m  [1m[35mDROP TABLE "transactions"[0m
  [1m[36mActiveRecord::SchemaMigration Destroy (0.2ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20241105203225"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(3854678605711923990)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(3854678605711923990)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateTransaction (20241105203225)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "user_id" bigint NOT NULL, "transaction_type" character varying, "amount_usd" decimal, "amount_btc" decimal, "balance_usd_at_transaction" decimal(15,2), "balance_btc_at_transaction" decimal(15,2), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_77364e6416"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_user_id" ON "transactions" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20241105203225"]]
  [1m[36mTRANSACTION (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_advisory_unlock(3854678605711923990)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started POST "/api/users/1/transactions/buy" for ::1 at 2024-11-07 17:09:15 -0300
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::TransactionsController#create_buy as */*
  Parameters: {"amount_to_send"=>100, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:3:in `create_buy'
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.3ms | Allocations: 4328)


  
NoMethodError (undefined method `process_buy_transaction' for #<TransactionService:0x00007f6444247b10>):
  
app/controllers/api/transactions_controller.rb:12:in `create_buy'
Started POST "/api/users/1/transactions/buy" for ::1 at 2024-11-07 17:10:17 -0300
Processing by Api::TransactionsController#create_buy as */*
  Parameters: {"amount_to_send"=>100, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:3:in `create_buy'
Completed 500 Internal Server Error in 7ms (ActiveRecord: 3.2ms | Allocations: 4280)


  
NoMethodError (undefined method `process_buy_transaction' for #<TransactionService:0x00007f644cd7fdb8>):
  
app/controllers/api/transactions_controller.rb:12:in `create_buy'
Started POST "/api/users/1/transactions/buy" for ::1 at 2024-11-07 17:11:07 -0300
Processing by Api::TransactionsController#create_buy as */*
  Parameters: {"amount_to_send"=>100, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.9ms | Allocations: 2053)


  
NameError (undefined local variable or method `current_user' for #<Api::TransactionsController:0x0000000001f928>):
  
app/controllers/api/transactions_controller.rb:4:in `create_buy'
Started POST "/api/users/1/transactions/buy" for ::1 at 2024-11-07 17:12:01 -0300
Processing by Api::TransactionsController#create_buy as */*
  Parameters: {"amount_to_send"=>100, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:3:in `create_buy'
Completed 500 Internal Server Error in 7ms (ActiveRecord: 2.6ms | Allocations: 4281)


  
NoMethodError (undefined method `process_buy_transaction' for #<TransactionService:0x00007f645018d380>):
  
app/controllers/api/transactions_controller.rb:6:in `create_buy'
Started POST "/api/users/1/transactions/buy" for ::1 at 2024-11-07 17:13:34 -0300
Processing by Api::TransactionsController#create_buy as */*
  Parameters: {"amount_to_send"=>100, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:3:in `create_buy'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.2ms | Allocations: 960)


  
NoMethodError (undefined method `process_buy_transaction' for #<TransactionService:0x00007f64542aa2c8>):
  
app/controllers/api/transactions_controller.rb:6:in `create_buy'
Started POST "/api/users/1/transactions/buy" for ::1 at 2024-11-07 17:13:52 -0300
Processing by Api::TransactionsController#create_buy as */*
  Parameters: {"amount_to_send"=>100, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:4:in `create_buy'
Completed 500 Internal Server Error in 6ms (ActiveRecord: 2.1ms | Allocations: 4301)


  
NoMethodError (undefined method `process_buy_transaction' for #<TransactionService:0x00007f645032ec20>):
  
app/controllers/api/transactions_controller.rb:10:in `create_buy'
Started POST "/api/users/1/transactions/buy" for ::1 at 2024-11-07 17:14:48 -0300
  
ActionController::RoutingError (No route matches [POST] "/api/users/1/transactions/buy"):
  
Started POST "/api/users/1/transactions/buy" for ::1 at 2024-11-07 17:15:31 -0300
  
ActionController::RoutingError (No route matches [POST] "/api/users/1/transactions/buy"):
  
Started POST "/api/users/1/transactions/buy" for ::1 at 2024-11-07 17:15:44 -0300
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::TransactionsController#create_buy as */*
  Parameters: {"amount_to_send"=>100, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:4:in `create_buy'
Completed 500 Internal Server Error in 15ms (ActiveRecord: 2.6ms | Allocations: 8016)


  
NoMethodError (undefined method `process_buy_transaction' for #<TransactionService:0x00007f62f10797b0>):
  
app/controllers/api/transactions_controller.rb:10:in `create_buy'
Started POST "/api/users/1/transactions/buy" for ::1 at 2024-11-07 17:16:39 -0300
Processing by Api::TransactionsController#create_buy as */*
  Parameters: {"amount_to_send"=>100, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:4:in `create_buy'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 2.3ms | Allocations: 4052)


  
SyntaxError (/home/agustin/VitaWallet/vitawalletpractica_api/app/services/transaction_service.rb:98: syntax error, unexpected `end', expecting end-of-input):
  
app/services/transaction_service.rb:98: syntax error, unexpected `end', expecting end-of-input
app/services/transaction_service.rb:98: syntax error, unexpected `end', expecting end-of-input
app/controllers/api/transactions_controller.rb:7:in `create_buy'
Started POST "/api/users/1/transactions/buy" for ::1 at 2024-11-07 17:16:51 -0300
Processing by Api::TransactionsController#create_buy as */*
  Parameters: {"amount_to_send"=>100, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:4:in `create_buy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/transaction_service.rb:18:in `block in process_buy_transaction'
  [1m[36mTransaction Create (0.8ms)[0m  [1m[32mINSERT INTO "transactions" ("user_id", "transaction_type", "amount_usd", "amount_btc", "balance_usd_at_transaction", "balance_btc_at_transaction", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 1], ["transaction_type", "buy"], ["amount_usd", "100.0"], ["amount_btc", "0.00130536466486485"], ["balance_usd_at_transaction", "9385.0"], ["balance_btc_at_transaction", "0.02"], ["created_at", "2024-11-07 20:16:52.227574"], ["updated_at", "2024-11-07 20:16:52.227574"]]
  ↳ app/services/transaction_service.rb:18:in `block in process_buy_transaction'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "balance_usd" = $1, "balance_btc" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["balance_usd", "9285.000043673000002"], ["balance_btc", "0.017207506641708413717044432946998751"], ["updated_at", "2024-11-07 20:16:52.230101"], ["id", 1]]
  ↳ app/services/transaction_service.rb:80:in `update_user_balance!'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/transaction_service.rb:13:in `process_buy_transaction'
Completed 201 Created in 239ms (Views: 0.3ms | ActiveRecord: 4.7ms | Allocations: 13371)


Started GET "/api/users/1/transactions" for ::1 at 2024-11-07 17:16:58 -0300
  
AbstractController::ActionNotFound (The action 'index' could not be found for Api::TransactionsController
Did you mean?  create_buy
               create_sell
               show):
  
actionpack (6.1.7.10) lib/abstract_controller/base.rb:160:in `process'
actionpack (6.1.7.10) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.1.7.10) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.1.7.10) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.1.7.10) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.1.7.10) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (6.1.7.10) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.1.7.10) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.1.7.10) lib/action_dispatch/routing/route_set.rb:842:in `call'
rack (2.2.10) lib/rack/etag.rb:27:in `call'
rack (2.2.10) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.10) lib/rack/head.rb:12:in `call'
activerecord (6.1.7.10) lib/active_record/migration.rb:601:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.7.10) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.7.10) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.7.10) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.7.10) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.7.10) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.7.10) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.7.10) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.7.10) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.10) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.7.10) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.10) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/host_authorization.rb:148:in `call'
railties (6.1.7.10) lib/rails/engine.rb:539:in `call'
puma (5.6.9) lib/puma/configuration.rb:252:in `call'
puma (5.6.9) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.9) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.9) lib/puma/request.rb:76:in `handle_request'
puma (5.6.9) lib/puma/server.rb:443:in `process_client'
puma (5.6.9) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/api/users/1/transactions" for ::1 at 2024-11-07 17:17:18 -0300
Processing by Api::TransactionsController#index as */*
  Parameters: {"user_id"=>"1"}
Completed 404 Not Found in 2ms (ActiveRecord: 1.1ms | Allocations: 644)


  
ActiveRecord::RecordNotFound (Couldn't find Transaction without an ID):
  
app/controllers/api/transactions_controller.rb:35:in `index'
Started GET "/api/users/1/transactions" for ::1 at 2024-11-07 17:20:52 -0300
Processing by Api::TransactionsController#index as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:36:in `index'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/controllers/api/transactions_controller.rb:42:in `index'
Completed 200 OK in 12ms (Views: 4.4ms | ActiveRecord: 3.0ms | Allocations: 9036)


Started POST "/api/users/1/transactions/buy" for ::1 at 2024-11-09 12:42:22 -0300
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Api::TransactionsController#create_buy as */*
  Parameters: {"amount_to_send"=>200, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:4:in `create_buy'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/transaction_service.rb:29:in `block in process_transaction'
  [1m[36mTransaction Create (3.4ms)[0m  [1m[32mINSERT INTO "transactions" ("user_id", "transaction_type", "amount_usd", "amount_btc", "balance_usd_at_transaction", "balance_btc_at_transaction", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 1], ["transaction_type", "buy"], ["amount_usd", "200.0"], ["amount_btc", "0.0026171061472043"], ["balance_usd_at_transaction", "9285.0"], ["balance_btc_at_transaction", "0.02"], ["created_at", "2024-11-09 15:42:22.302613"], ["updated_at", "2024-11-09 15:42:22.302613"]]
  ↳ app/services/transaction_service.rb:29:in `block in process_transaction'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "balance_usd" = $1, "balance_btc" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["balance_usd", "9085.000043673000002"], ["balance_btc", "0.019824612788912712717044432946998751"], ["updated_at", "2024-11-09 15:42:22.307623"], ["id", 1]]
  ↳ app/services/transaction_service.rb:62:in `update_user_balance!'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/transaction_service.rb:25:in `process_transaction'
Completed 200 OK in 157ms (Views: 0.4ms | ActiveRecord: 13.7ms | Allocations: 17195)


Started POST "/api/users/1/transactions/sell" for ::1 at 2024-11-09 12:42:44 -0300
Processing by Api::TransactionsController#create_sell as */*
  Parameters: {"amount_to_send"=>0.001223141, "currency_to_send"=>"BTC", "currency_to_receive"=>"USD", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:19:in `create_sell'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/transaction_service.rb:29:in `block in process_transaction'
  [1m[36mTransaction Create (0.6ms)[0m  [1m[32mINSERT INTO "transactions" ("user_id", "transaction_type", "amount_usd", "amount_btc", "balance_usd_at_transaction", "balance_btc_at_transaction", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 1], ["transaction_type", "sell"], ["amount_usd", "93.4727849160119"], ["amount_btc", "0.001223141"], ["balance_usd_at_transaction", "9085.0"], ["balance_btc_at_transaction", "0.02"], ["created_at", "2024-11-09 15:42:44.456221"], ["updated_at", "2024-11-09 15:42:44.456221"]]
  ↳ app/services/transaction_service.rb:29:in `block in process_transaction'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "balance_usd" = $1, "balance_btc" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["balance_usd", "9178.472828589011902"], ["balance_btc", "0.018601471788912712717044432946998751"], ["updated_at", "2024-11-09 15:42:44.460770"], ["id", 1]]
  ↳ app/services/transaction_service.rb:67:in `update_user_balance!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/transaction_service.rb:25:in `process_transaction'
Completed 200 OK in 33ms (Views: 0.4ms | ActiveRecord: 2.0ms | Allocations: 4317)


Started GET "/api/users/1/transactions" for ::1 at 2024-11-09 12:43:13 -0300
Processing by Api::TransactionsController#index as */*
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:33:in `index'
  [1m[36mTransaction Load (0.2ms)[0m  [1m[34mSELECT "transactions".* FROM "transactions" WHERE "transactions"."user_id" = $1[0m  [["user_id", 1]]
  ↳ app/controllers/api/transactions_controller.rb:37:in `index'
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.3ms | Allocations: 1870)


Started GET "/api/users" for ::1 at 2024-11-09 12:43:22 -0300
Processing by Api::UsersController#index as */*
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/api/users_controller.rb:4:in `index'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 655)


Started POST "/api/users/1/transactions/buy" for ::1 at 2024-11-09 12:43:47 -0300
Processing by Api::TransactionsController#create_buy as */*
  Parameters: {"amount_to_send"=>178, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:4:in `create_buy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/transaction_service.rb:29:in `block in process_transaction'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("user_id", "transaction_type", "amount_usd", "amount_btc", "balance_usd_at_transaction", "balance_btc_at_transaction", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 1], ["transaction_type", "buy"], ["amount_usd", "178.0"], ["amount_btc", "0.00233008165246228"], ["balance_usd_at_transaction", "9178.47"], ["balance_btc_at_transaction", "0.02"], ["created_at", "2024-11-09 15:43:47.586239"], ["updated_at", "2024-11-09 15:43:47.586239"]]
  ↳ app/services/transaction_service.rb:29:in `block in process_transaction'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "balance_usd" = $1, "balance_btc" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["balance_usd", "9000.472828589011902"], ["balance_btc", "0.020931553441374994717044432946998751"], ["updated_at", "2024-11-09 15:43:47.589672"], ["id", 1]]
  ↳ app/services/transaction_service.rb:62:in `update_user_balance!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/transaction_service.rb:25:in `process_transaction'
Completed 200 OK in 94ms (Views: 0.3ms | ActiveRecord: 1.7ms | Allocations: 4274)


Started GET "/api/users" for ::1 at 2024-11-09 12:43:51 -0300
Processing by Api::UsersController#index as */*
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/api/users_controller.rb:4:in `index'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 618)


Started POST "/api/users/1/transactions/sell" for ::1 at 2024-11-09 12:44:07 -0300
Processing by Api::TransactionsController#create_sell as */*
  Parameters: {"amount_to_send"=>0.001999999, "currency_to_send"=>"BTC", "currency_to_receive"=>"USD", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:19:in `create_sell'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/transaction_service.rb:29:in `block in process_transaction'
  [1m[36mTransaction Create (0.4ms)[0m  [1m[32mINSERT INTO "transactions" ("user_id", "transaction_type", "amount_usd", "amount_btc", "balance_usd_at_transaction", "balance_btc_at_transaction", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 1], ["transaction_type", "sell"], ["amount_usd", "152.805894797014"], ["amount_btc", "0.001999999"], ["balance_usd_at_transaction", "9000.47"], ["balance_btc_at_transaction", "0.02"], ["created_at", "2024-11-09 15:44:07.792658"], ["updated_at", "2024-11-09 15:44:07.792658"]]
  ↳ app/services/transaction_service.rb:29:in `block in process_transaction'
  [1m[36mUser Update (0.4ms)[0m  [1m[33mUPDATE "users" SET "balance_usd" = $1, "balance_btc" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["balance_usd", "9153.278723386026302"], ["balance_btc", "0.018931554441374994717044432946998751"], ["updated_at", "2024-11-09 15:44:07.795622"], ["id", 1]]
  ↳ app/services/transaction_service.rb:67:in `update_user_balance!'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/transaction_service.rb:25:in `process_transaction'
Completed 200 OK in 121ms (Views: 0.3ms | ActiveRecord: 1.9ms | Allocations: 4277)


Started GET "/api/users" for ::1 at 2024-11-09 12:44:19 -0300
Processing by Api::UsersController#index as */*
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/api/users_controller.rb:4:in `index'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 618)


Started POST "/api/users/1/transactions/buy" for ::1 at 2024-11-09 12:56:53 -0300
Processing by Api::TransactionsController#create_buy as */*
  Parameters: {"amount_to_send"=>100, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:4:in `create_buy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/transaction_service.rb:29:in `block in process_transaction'
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("user_id", "transaction_type", "amount_usd", "amount_btc", "balance_usd_at_transaction", "balance_btc_at_transaction", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 1], ["transaction_type", "buy"], ["amount_usd", "100.0"], ["amount_btc", "0.00131005026413954"], ["balance_usd_at_transaction", "9153.28"], ["balance_btc_at_transaction", "0.02"], ["created_at", "2024-11-09 15:56:53.603911"], ["updated_at", "2024-11-09 15:56:53.603911"]]
  ↳ app/services/transaction_service.rb:29:in `block in process_transaction'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "balance_usd" = $1, "balance_btc" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["balance_usd", "9053.278723386026302"], ["balance_btc", "0.020241604705514534717044432946998751"], ["updated_at", "2024-11-09 15:56:53.607126"], ["id", 1]]
  ↳ app/services/transaction_service.rb:62:in `update_user_balance!'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/transaction_service.rb:25:in `process_transaction'
Completed 200 OK in 99ms (Views: 0.3ms | ActiveRecord: 3.8ms | Allocations: 7485)


Started GET "/api/users" for ::1 at 2024-11-09 12:57:13 -0300
Processing by Api::UsersController#index as */*
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/api/users_controller.rb:4:in `index'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.1ms | Allocations: 618)


Started POST "/api/users/1/transactions/buy" for ::1 at 2024-11-09 13:17:53 -0300
Processing by Api::TransactionsController#create_buy as */*
  Parameters: {"amount_to_send"=>1000, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:4:in `create_buy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/transaction_service.rb:29:in `block in process_transaction'
  [1m[36mTransaction Create (0.7ms)[0m  [1m[32mINSERT INTO "transactions" ("user_id", "transaction_type", "amount_usd", "amount_btc", "balance_usd_at_transaction", "balance_btc_at_transaction", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 1], ["transaction_type", "buy"], ["amount_usd", "1000.0"], ["amount_btc", "0.0131211959086227"], ["balance_usd_at_transaction", "9053.28"], ["balance_btc_at_transaction", "0.02"], ["created_at", "2024-11-09 16:17:54.075777"], ["updated_at", "2024-11-09 16:17:54.075777"]]
  ↳ app/services/transaction_service.rb:29:in `block in process_transaction'
  [1m[36mUser Update (0.3ms)[0m  [1m[33mUPDATE "users" SET "balance_usd" = $1, "balance_btc" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["balance_usd", "8053.278723386026302"], ["balance_btc", "0.033362800614137224717044432946998751"], ["updated_at", "2024-11-09 16:17:54.079228"], ["id", 1]]
  ↳ app/services/transaction_service.rb:62:in `update_user_balance!'
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/transaction_service.rb:73:in `update_user_balance!'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/transaction_service.rb:25:in `process_transaction'
Completed 200 OK in 142ms (Views: 0.3ms | ActiveRecord: 3.9ms | Allocations: 11691)


Started GET "/api/users" for ::1 at 2024-11-09 13:18:04 -0300
Processing by Api::UsersController#index as */*
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users"[0m
  ↳ app/controllers/api/users_controller.rb:15:in `index'
Completed 200 OK in 1ms (Views: 0.1ms | ActiveRecord: 0.2ms | Allocations: 631)


Started POST "/api/users/1/transactions/buy" for ::1 at 2024-11-09 13:20:10 -0300
Processing by Api::TransactionsController#create_buy as */*
  Parameters: {"amount_to_send"=>100, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:4:in `create_buy'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  ↳ app/services/transaction_service.rb:31:in `block in process_transaction'
  [1m[36mTransaction Create (0.5ms)[0m  [1m[32mINSERT INTO "transactions" ("user_id", "transaction_type", "amount_usd", "amount_btc", "balance_usd_at_transaction", "balance_btc_at_transaction", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["user_id", 1], ["transaction_type", "buy"], ["amount_usd", "100.0"], ["amount_btc", "0.0013122380981074"], ["balance_usd_at_transaction", "8053.28"], ["balance_btc_at_transaction", "0.03"], ["created_at", "2024-11-09 16:20:10.565820"], ["updated_at", "2024-11-09 16:20:10.565820"]]
  ↳ app/services/transaction_service.rb:31:in `block in process_transaction'
  [1m[36mUser Update (0.2ms)[0m  [1m[33mUPDATE "users" SET "balance_usd" = $1, "balance_btc" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["balance_usd", "7953.278723386026302"], ["balance_btc", "0.034675038712244621717044432946998751"], ["updated_at", "2024-11-09 16:20:10.568075"], ["id", 1]]
  ↳ app/services/transaction_service.rb:67:in `update_user_balance!'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/transaction_service.rb:78:in `update_user_balance!'
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/services/transaction_service.rb:41:in `block in process_transaction'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  ↳ app/services/transaction_service.rb:25:in `process_transaction'
Completed 200 OK in 106ms (Views: 0.3ms | ActiveRecord: 6.1ms | Allocations: 12362)


Started POST "/api/users/1/transactions/buy" for ::1 at 2024-11-09 13:29:31 -0300
Processing by Api::TransactionsController#create_buy as */*
  Parameters: {"amount_to_send"=>10000, "currency_to_send"=>"USD", "currency_to_receive"=>"BTC", "user_id"=>"1", "transaction"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/transactions_controller.rb:4:in `create_buy'
Completed 200 OK in 9ms (Views: 0.1ms | ActiveRecord: 2.3ms | Allocations: 3908)


Started GET "/users/sign_in" for ::1 at 2024-11-09 15:41:24 -0300
  
ActiveRecord::NoDatabaseError (connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: FATAL:  no existe la base de datos «vitawallet_development»
):
  
activerecord (6.1.7.10) lib/active_record/connection_adapters/postgresql_adapter.rb:81:in `rescue in new_client'
activerecord (6.1.7.10) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (6.1.7.10) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (6.1.7.10) lib/active_record/connection_adapters/abstract/connection_pool.rb:882:in `public_send'
activerecord (6.1.7.10) lib/active_record/connection_adapters/abstract/connection_pool.rb:882:in `new_connection'
activerecord (6.1.7.10) lib/active_record/connection_adapters/abstract/connection_pool.rb:926:in `checkout_new_connection'
activerecord (6.1.7.10) lib/active_record/connection_adapters/abstract/connection_pool.rb:905:in `try_to_checkout_new_connection'
activerecord (6.1.7.10) lib/active_record/connection_adapters/abstract/connection_pool.rb:866:in `acquire_connection'
activerecord (6.1.7.10) lib/active_record/connection_adapters/abstract/connection_pool.rb:588:in `checkout'
activerecord (6.1.7.10) lib/active_record/connection_adapters/abstract/connection_pool.rb:428:in `connection'
activerecord (6.1.7.10) lib/active_record/connection_adapters/abstract/connection_pool.rb:1128:in `retrieve_connection'
activerecord (6.1.7.10) lib/active_record/connection_handling.rb:327:in `retrieve_connection'
activerecord (6.1.7.10) lib/active_record/connection_handling.rb:283:in `connection'
activerecord (6.1.7.10) lib/active_record/migration.rb:611:in `connection'
activerecord (6.1.7.10) lib/active_record/migration.rb:606:in `build_watcher'
activerecord (6.1.7.10) lib/active_record/migration.rb:588:in `block in call'
activerecord (6.1.7.10) lib/active_record/migration.rb:587:in `synchronize'
activerecord (6.1.7.10) lib/active_record/migration.rb:587:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.7.10) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.7.10) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.7.10) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.7.10) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.7.10) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.7.10) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.7.10) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.7.10) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.10) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.7.10) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.10) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/host_authorization.rb:148:in `call'
railties (6.1.7.10) lib/rails/engine.rb:539:in `call'
puma (5.6.9) lib/puma/configuration.rb:252:in `call'
puma (5.6.9) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.9) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.9) lib/puma/request.rb:76:in `handle_request'
puma (5.6.9) lib/puma/server.rb:443:in `process_client'
puma (5.6.9) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/" for ::1 at 2024-11-09 15:41:26 -0300
  
ActiveRecord::NoDatabaseError (connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: FATAL:  no existe la base de datos «vitawallet_development»
):
  
activerecord (6.1.7.10) lib/active_record/connection_adapters/postgresql_adapter.rb:81:in `rescue in new_client'
activerecord (6.1.7.10) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (6.1.7.10) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (6.1.7.10) lib/active_record/connection_adapters/abstract/connection_pool.rb:882:in `public_send'
activerecord (6.1.7.10) lib/active_record/connection_adapters/abstract/connection_pool.rb:882:in `new_connection'
activerecord (6.1.7.10) lib/active_record/connection_adapters/abstract/connection_pool.rb:926:in `checkout_new_connection'
activerecord (6.1.7.10) lib/active_record/connection_adapters/abstract/connection_pool.rb:905:in `try_to_checkout_new_connection'
activerecord (6.1.7.10) lib/active_record/connection_adapters/abstract/connection_pool.rb:866:in `acquire_connection'
activerecord (6.1.7.10) lib/active_record/connection_adapters/abstract/connection_pool.rb:588:in `checkout'
activerecord (6.1.7.10) lib/active_record/connection_adapters/abstract/connection_pool.rb:428:in `connection'
activerecord (6.1.7.10) lib/active_record/connection_adapters/abstract/connection_pool.rb:1128:in `retrieve_connection'
activerecord (6.1.7.10) lib/active_record/connection_handling.rb:327:in `retrieve_connection'
activerecord (6.1.7.10) lib/active_record/connection_handling.rb:283:in `connection'
activerecord (6.1.7.10) lib/active_record/migration.rb:611:in `connection'
activerecord (6.1.7.10) lib/active_record/migration.rb:606:in `build_watcher'
activerecord (6.1.7.10) lib/active_record/migration.rb:588:in `block in call'
activerecord (6.1.7.10) lib/active_record/migration.rb:587:in `synchronize'
activerecord (6.1.7.10) lib/active_record/migration.rb:587:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.7.10) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.7.10) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.7.10) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.7.10) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.7.10) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.7.10) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.7.10) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.7.10) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.10) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.7.10) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.10) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/host_authorization.rb:148:in `call'
railties (6.1.7.10) lib/rails/engine.rb:539:in `call'
puma (5.6.9) lib/puma/configuration.rb:252:in `call'
puma (5.6.9) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.9) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.9) lib/puma/request.rb:76:in `handle_request'
puma (5.6.9) lib/puma/server.rb:443:in `process_client'
puma (5.6.9) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/" for ::1 at 2024-11-09 15:41:26 -0300
  
ActiveRecord::NoDatabaseError (connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: FATAL:  no existe la base de datos «vitawallet_development»
):
  
activerecord (6.1.7.10) lib/active_record/connection_adapters/postgresql_adapter.rb:81:in `rescue in new_client'
activerecord (6.1.7.10) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (6.1.7.10) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (6.1.7.10) lib/active_record/connection_adapters/abstract/connection_pool.rb:882:in `public_send'
activerecord (6.1.7.10) lib/active_record/connection_adapters/abstract/connection_pool.rb:882:in `new_connection'
activerecord (6.1.7.10) lib/active_record/connection_adapters/abstract/connection_pool.rb:926:in `checkout_new_connection'
activerecord (6.1.7.10) lib/active_record/connection_adapters/abstract/connection_pool.rb:905:in `try_to_checkout_new_connection'
activerecord (6.1.7.10) lib/active_record/connection_adapters/abstract/connection_pool.rb:866:in `acquire_connection'
activerecord (6.1.7.10) lib/active_record/connection_adapters/abstract/connection_pool.rb:588:in `checkout'
activerecord (6.1.7.10) lib/active_record/connection_adapters/abstract/connection_pool.rb:428:in `connection'
activerecord (6.1.7.10) lib/active_record/connection_adapters/abstract/connection_pool.rb:1128:in `retrieve_connection'
activerecord (6.1.7.10) lib/active_record/connection_handling.rb:327:in `retrieve_connection'
activerecord (6.1.7.10) lib/active_record/connection_handling.rb:283:in `connection'
activerecord (6.1.7.10) lib/active_record/migration.rb:611:in `connection'
activerecord (6.1.7.10) lib/active_record/migration.rb:606:in `build_watcher'
activerecord (6.1.7.10) lib/active_record/migration.rb:588:in `block in call'
activerecord (6.1.7.10) lib/active_record/migration.rb:587:in `synchronize'
activerecord (6.1.7.10) lib/active_record/migration.rb:587:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.7.10) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.7.10) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.7.10) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.7.10) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.7.10) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.7.10) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.7.10) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.7.10) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.10) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.7.10) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.10) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/host_authorization.rb:148:in `call'
railties (6.1.7.10) lib/rails/engine.rb:539:in `call'
puma (5.6.9) lib/puma/configuration.rb:252:in `call'
puma (5.6.9) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.9) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.9) lib/puma/request.rb:76:in `handle_request'
puma (5.6.9) lib/puma/server.rb:443:in `process_client'
puma (5.6.9) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/" for ::1 at 2024-11-09 15:42:02 -0300
  
ActiveRecord::NoDatabaseError (connection to server on socket "/var/run/postgresql/.s.PGSQL.5432" failed: FATAL:  no existe la base de datos «vitawallet_development»
):
  
activerecord (6.1.7.10) lib/active_record/connection_adapters/postgresql_adapter.rb:81:in `rescue in new_client'
activerecord (6.1.7.10) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (6.1.7.10) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (6.1.7.10) lib/active_record/connection_adapters/abstract/connection_pool.rb:882:in `public_send'
activerecord (6.1.7.10) lib/active_record/connection_adapters/abstract/connection_pool.rb:882:in `new_connection'
activerecord (6.1.7.10) lib/active_record/connection_adapters/abstract/connection_pool.rb:926:in `checkout_new_connection'
activerecord (6.1.7.10) lib/active_record/connection_adapters/abstract/connection_pool.rb:905:in `try_to_checkout_new_connection'
activerecord (6.1.7.10) lib/active_record/connection_adapters/abstract/connection_pool.rb:866:in `acquire_connection'
activerecord (6.1.7.10) lib/active_record/connection_adapters/abstract/connection_pool.rb:588:in `checkout'
activerecord (6.1.7.10) lib/active_record/connection_adapters/abstract/connection_pool.rb:428:in `connection'
activerecord (6.1.7.10) lib/active_record/connection_adapters/abstract/connection_pool.rb:1128:in `retrieve_connection'
activerecord (6.1.7.10) lib/active_record/connection_handling.rb:327:in `retrieve_connection'
activerecord (6.1.7.10) lib/active_record/connection_handling.rb:283:in `connection'
activerecord (6.1.7.10) lib/active_record/migration.rb:611:in `connection'
activerecord (6.1.7.10) lib/active_record/migration.rb:606:in `build_watcher'
activerecord (6.1.7.10) lib/active_record/migration.rb:588:in `block in call'
activerecord (6.1.7.10) lib/active_record/migration.rb:587:in `synchronize'
activerecord (6.1.7.10) lib/active_record/migration.rb:587:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.7.10) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.7.10) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.7.10) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.7.10) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.7.10) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.7.10) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.7.10) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.7.10) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.10) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.7.10) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.10) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/host_authorization.rb:148:in `call'
railties (6.1.7.10) lib/rails/engine.rb:539:in `call'
puma (5.6.9) lib/puma/configuration.rb:252:in `call'
puma (5.6.9) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.9) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.9) lib/puma/request.rb:76:in `handle_request'
puma (5.6.9) lib/puma/server.rb:443:in `process_client'
puma (5.6.9) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
  [1m[35m (49.6ms)[0m  [1m[35mCREATE DATABASE "vitawallet_development" ENCODING = 'unicode'[0m
  [1m[35m (67.6ms)[0m  [1m[35mCREATE DATABASE "vitawallet_test" ENCODING = 'unicode'[0m
  [1m[35m (5.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (2.9ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(262461671747604945)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUser (20241105201845)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "name" character varying, "balance_usd" decimal, "balance_btc" decimal, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20241105201845"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
Migrating to CreateTransaction (20241105203225)
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (5.1ms)[0m  [1m[35mCREATE TABLE "transactions" ("id" bigserial primary key, "user_id" bigint NOT NULL, "transaction_type" character varying, "amount_usd" decimal, "amount_btc" decimal, "balance_usd_at_transaction" decimal(15,2), "balance_btc_at_transaction" decimal(15,2), "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL, CONSTRAINT "fk_rails_77364e6416"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
)[0m
  [1m[35m (4.6ms)[0m  [1m[35mCREATE INDEX "index_transactions_on_user_id" ON "transactions" ("user_id")[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20241105203225"]]
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2024-11-09 18:42:51.908768"], ["updated_at", "2024-11-09 18:42:51.908768"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(262461671747604945)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2024-11-09 15:43:02 -0300
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/agustin/.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/gems/railties-6.1.7.10/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/agustin/.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/gems/railties-6.1.7.10/lib/rails/templates/rails/welcome/index.html.erb (Duration: 9.7ms | Allocations: 297)
Completed 200 OK in 13ms (Views: 10.5ms | ActiveRecord: 0.0ms | Allocations: 2727)


Started GET "/proyectos" for ::1 at 2024-11-09 15:43:08 -0300
  
ActionController::RoutingError (No route matches [GET] "/proyectos"):
  
Started GET "/prices" for ::1 at 2024-11-09 15:43:10 -0300
  
AbstractController::ActionNotFound (The action 'index' could not be found for PricesController
Did you mean?  show):
  
actionpack (6.1.7.10) lib/abstract_controller/base.rb:160:in `process'
actionpack (6.1.7.10) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.1.7.10) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.1.7.10) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.1.7.10) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.1.7.10) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (6.1.7.10) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.1.7.10) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.1.7.10) lib/action_dispatch/routing/route_set.rb:842:in `call'
rack (2.2.10) lib/rack/etag.rb:27:in `call'
rack (2.2.10) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.10) lib/rack/head.rb:12:in `call'
activerecord (6.1.7.10) lib/active_record/migration.rb:601:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.7.10) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.7.10) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.7.10) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.7.10) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.7.10) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.7.10) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.7.10) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.7.10) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.10) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.7.10) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.10) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/host_authorization.rb:148:in `call'
railties (6.1.7.10) lib/rails/engine.rb:539:in `call'
puma (5.6.9) lib/puma/configuration.rb:252:in `call'
puma (5.6.9) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.9) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.9) lib/puma/request.rb:76:in `handle_request'
puma (5.6.9) lib/puma/server.rb:443:in `process_client'
puma (5.6.9) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/prices/show" for ::1 at 2024-11-09 15:43:14 -0300
Processing by PricesController#show as HTML
  Parameters: {"id"=>"show"}
Completed 200 OK in 161ms (Views: 0.5ms | ActiveRecord: 0.0ms | Allocations: 1228)


Started GET "/" for ::1 at 2024-11-09 15:45:43 -0300
Processing by PricesController#show as HTML
Completed 200 OK in 107ms (Views: 0.3ms | ActiveRecord: 0.0ms | Allocations: 1072)


Started GET "/proyectos" for ::1 at 2024-11-09 15:46:09 -0300
  
ActionController::RoutingError (No route matches [GET] "/proyectos"):
  
Started GET "/prices" for ::1 at 2024-11-09 15:46:11 -0300
  
AbstractController::ActionNotFound (The action 'index' could not be found for PricesController
Did you mean?  show):
  
actionpack (6.1.7.10) lib/abstract_controller/base.rb:160:in `process'
actionpack (6.1.7.10) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.1.7.10) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.1.7.10) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.1.7.10) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.1.7.10) lib/action_dispatch/journey/router.rb:50:in `block in serve'
actionpack (6.1.7.10) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.1.7.10) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.1.7.10) lib/action_dispatch/routing/route_set.rb:842:in `call'
rack (2.2.10) lib/rack/etag.rb:27:in `call'
rack (2.2.10) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.10) lib/rack/head.rb:12:in `call'
activerecord (6.1.7.10) lib/active_record/migration.rb:601:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.1.7.10) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (6.1.7.10) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/debug_exceptions.rb:29:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.1.7.10) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.1.7.10) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.1.7.10) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (6.1.7.10) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (6.1.7.10) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (6.1.7.10) lib/rails/rack/logger.rb:26:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.10) lib/rack/runtime.rb:22:in `call'
activesupport (6.1.7.10) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/static.rb:24:in `call'
rack (2.2.10) lib/rack/sendfile.rb:110:in `call'
actionpack (6.1.7.10) lib/action_dispatch/middleware/host_authorization.rb:148:in `call'
railties (6.1.7.10) lib/rails/engine.rb:539:in `call'
puma (5.6.9) lib/puma/configuration.rb:252:in `call'
puma (5.6.9) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.9) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.9) lib/puma/request.rb:76:in `handle_request'
puma (5.6.9) lib/puma/server.rb:443:in `process_client'
puma (5.6.9) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/" for ::1 at 2024-11-09 15:46:39 -0300
Processing by PricesController#show as HTML
Completed 200 OK in 49ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 977)


Started GET "/" for ::1 at 2024-11-09 15:47:38 -0300
Processing by PricesController#show as HTML
Completed 200 OK in 205ms (Views: 0.4ms | ActiveRecord: 0.0ms | Allocations: 971)


Started GET "/" for ::1 at 2024-11-09 15:49:18 -0300
Processing by PricesController#show as HTML
Completed 204 No Content in 238ms (ActiveRecord: 0.0ms | Allocations: 1015)


Started GET "/" for ::1 at 2024-11-09 15:49:19 -0300
Processing by PricesController#show as HTML
Completed 204 No Content in 21ms (ActiveRecord: 0.0ms | Allocations: 904)


Started GET "/" for ::1 at 2024-11-09 15:49:24 -0300
Processing by PricesController#show as HTML
Completed 204 No Content in 38ms (ActiveRecord: 0.0ms | Allocations: 991)


Started GET "/" for ::1 at 2024-11-09 15:49:25 -0300
Processing by PricesController#show as HTML
Completed 204 No Content in 23ms (ActiveRecord: 0.0ms | Allocations: 902)


Started GET "/" for ::1 at 2024-11-09 15:49:44 -0300
Processing by PricesController#show as HTML
Completed 204 No Content in 51ms (ActiveRecord: 0.0ms | Allocations: 904)


Started GET "/" for ::1 at 2024-11-09 15:49:45 -0300
Processing by PricesController#show as HTML
Completed 204 No Content in 53ms (ActiveRecord: 0.0ms | Allocations: 900)


Started GET "/" for ::1 at 2024-11-09 15:53:13 -0300
Processing by PricesController#index as HTML
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 35)


Started GET "/" for ::1 at 2024-11-09 15:53:14 -0300
Processing by PricesController#index as HTML
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 26)


Started GET "/" for ::1 at 2024-11-09 15:53:15 -0300
Processing by PricesController#index as HTML
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 26)


Started GET "/" for ::1 at 2024-11-09 15:53:15 -0300
Processing by PricesController#index as HTML
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 26)


Started GET "/" for ::1 at 2024-11-09 15:53:23 -0300
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PricesController#index as HTML
Completed 204 No Content in 2ms (ActiveRecord: 0.0ms | Allocations: 1964)


Started GET "/" for ::1 at 2024-11-09 15:53:23 -0300
Processing by PricesController#index as HTML
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 30)


Started GET "/proyectos" for ::1 at 2024-11-09 15:53:32 -0300
  
ActionController::RoutingError (No route matches [GET] "/proyectos"):
  
Started GET "/prices/show" for ::1 at 2024-11-09 15:53:33 -0300
Processing by PricesController#show as HTML
Completed 204 No Content in 87ms (ActiveRecord: 0.0ms | Allocations: 1087)


Started GET "/asdasdasd" for ::1 at 2024-11-09 15:53:37 -0300
  
ActionController::RoutingError (No route matches [GET] "/asdasdasd"):
  
Started GET "/" for ::1 at 2024-11-09 15:54:18 -0300
Processing by PricesController#index as HTML
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 36)


Started GET "/" for ::1 at 2024-11-09 15:54:18 -0300
Processing by PricesController#index as HTML
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 26)


Started GET "/" for ::1 at 2024-11-09 15:54:21 -0300
Processing by PricesController#index as HTML
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 29)


Started GET "/" for ::1 at 2024-11-09 15:54:27 -0300
Processing by PricesController#index as HTML
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 26)


Started GET "/" for ::1 at 2024-11-09 15:54:28 -0300
Processing by PricesController#index as HTML
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 29)


Started GET "/" for ::1 at 2024-11-09 15:55:33 -0300
Processing by PricesController#index as HTML
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 26)


Started GET "/" for ::1 at 2024-11-09 15:57:07 -0300
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PricesController#index as HTML
Completed 204 No Content in 3ms (ActiveRecord: 0.0ms | Allocations: 2907)


Started GET "/users/sign_in" for ::1 at 2024-11-09 15:58:40 -0300
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in"):
  
Started GET "/users/sign_in" for ::1 at 2024-11-09 15:58:41 -0300
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in"):
  
Started GET "/" for ::1 at 2024-11-09 15:58:43 -0300
Processing by PricesController#index as HTML
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 62)


Started GET "/" for ::1 at 2024-11-09 15:58:50 -0300
Processing by PricesController#index as HTML
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 30)


Started GET "/" for ::1 at 2024-11-09 15:58:50 -0300
Processing by PricesController#index as HTML
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 27)


Started GET "/users/sign_in" for ::1 at 2024-11-09 15:58:55 -0300
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in"):
  
Started GET "/" for ::1 at 2024-11-09 15:58:57 -0300
Processing by PricesController#index as HTML
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 29)


Started GET "/" for ::1 at 2024-11-09 15:58:57 -0300
Processing by PricesController#index as HTML
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 26)


Started GET "/" for ::1 at 2024-11-09 15:59:23 -0300
Processing by PricesController#index as HTML
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 29)


Started GET "/" for 127.0.0.1 at 2024-11-09 16:00:07 -0300
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PricesController#index as HTML
Completed 204 No Content in 2ms (ActiveRecord: 0.0ms | Allocations: 1964)


Started GET "/prices" for 127.0.0.1 at 2024-11-09 16:00:42 -0300
Processing by PricesController#index as HTML
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 30)


Started GET "/prices/index" for 127.0.0.1 at 2024-11-09 16:00:46 -0300
Processing by PricesController#show as HTML
  Parameters: {"id"=>"index"}
Completed 204 No Content in 216ms (ActiveRecord: 0.0ms | Allocations: 2385)


Started GET "/prices/show" for 127.0.0.1 at 2024-11-09 16:00:50 -0300
Processing by PricesController#show as HTML
Completed 204 No Content in 22ms (ActiveRecord: 0.0ms | Allocations: 903)


Started GET "/" for 127.0.0.1 at 2024-11-09 16:02:58 -0300
Processing by PricesController#index as HTML
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 30)


Started GET "/" for 127.0.0.1 at 2024-11-09 16:06:29 -0300
  
ActionController::RoutingError (uninitialized constant PricesController):
  
Started GET "/favicon.ico" for 127.0.0.1 at 2024-11-09 16:06:29 -0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/users/sign_in" for ::1 at 2024-11-09 16:06:45 -0300
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in"):
  
Started GET "/users/sign_in" for ::1 at 2024-11-09 16:06:45 -0300
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in"):
  
Started GET "/" for ::1 at 2024-11-09 16:06:47 -0300
Processing by Api::PricesController#index as HTML
Completed 204 No Content in 0ms (Allocations: 59)


Started GET "/" for ::1 at 2024-11-09 16:06:47 -0300
Processing by Api::PricesController#index as HTML
Completed 204 No Content in 0ms (Allocations: 26)


Started GET "/" for 127.0.0.1 at 2024-11-09 16:06:57 -0300
Processing by Api::PricesController#index as HTML
Completed 204 No Content in 0ms (Allocations: 27)


Started GET "/" for 127.0.0.1 at 2024-11-09 16:08:31 -0300
  
ActionController::RoutingError (uninitialized constant PricesController):
  
Started GET "/" for 127.0.0.1 at 2024-11-09 16:08:55 -0300
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (uninitialized constant PricesController):
  
Started GET "/" for 127.0.0.1 at 2024-11-09 16:09:17 -0300
Processing by PricesController#index as HTML
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 59)


Started GET "/" for 127.0.0.1 at 2024-11-09 16:09:18 -0300
Processing by PricesController#index as HTML
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 30)


Started GET "/" for 127.0.0.1 at 2024-11-09 16:09:20 -0300
Processing by PricesController#index as HTML
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 30)


Started GET "/" for 127.0.0.1 at 2024-11-09 16:09:27 -0300
Processing by PricesController#index as HTML
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 26)


Started GET "/users/sign_in" for ::1 at 2024-11-09 16:09:49 -0300
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in"):
  
Started GET "/" for ::1 at 2024-11-09 16:09:52 -0300
Processing by PricesController#index as HTML
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 26)


Started GET "/users/sign_in" for ::1 at 2024-11-09 16:09:56 -0300
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in"):
  
Started GET "/" for ::1 at 2024-11-09 16:09:58 -0300
Processing by PricesController#index as HTML
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 26)


Started GET "/" for ::1 at 2024-11-09 16:09:58 -0300
Processing by PricesController#index as HTML
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 30)


Started GET "/" for 127.0.0.1 at 2024-11-09 16:10:06 -0300
Processing by PricesController#index as HTML
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 26)


Started GET "/users/sign_in" for ::1 at 2024-11-09 16:11:29 -0300
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in"):
  
Started GET "/proyectos" for ::1 at 2024-11-09 16:11:31 -0300
  
ActionController::RoutingError (No route matches [GET] "/proyectos"):
  
Started GET "/prices" for ::1 at 2024-11-09 16:11:33 -0300
Processing by PricesController#index as HTML
Completed 204 No Content in 0ms (ActiveRecord: 0.0ms | Allocations: 26)


Started GET "/" for ::1 at 2024-11-09 16:11:44 -0300
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/agustin/.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/gems/railties-6.1.7.10/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/agustin/.rbenv/versions/2.7.5/lib/ruby/gems/2.7.0/gems/railties-6.1.7.10/lib/rails/templates/rails/welcome/index.html.erb (Duration: 2.7ms | Allocations: 187)
Completed 200 OK in 5ms (Views: 3.2ms | ActiveRecord: 0.0ms | Allocations: 1991)


Started GET "/prices/show" for ::1 at 2024-11-09 16:21:54 -0300
Processing by PricesController#show as HTML
  Parameters: {"id"=>"show"}
Completed 200 OK in 446ms (Views: 0.5ms | Allocations: 1123)


Started GET "/" for ::1 at 2024-11-09 16:47:47 -0300
  
SyntaxError (/home/agustin/VitaWallet/vitawallet/config/routes.rb:3: syntax error, unexpected local variable or method, expecting `end'
.../show', to: 'prices#show'  root 'prices#welcome'
...                           ^~~~
/home/agustin/VitaWallet/vitawallet/config/routes.rb:17: syntax error, unexpected `end', expecting end-of-input):
  
config/routes.rb:3: syntax error, unexpected local variable or method, expecting `end'
config/routes.rb:17: syntax error, unexpected `end', expecting end-of-input
config/routes.rb:3: syntax error, unexpected local variable or method, expecting `end'
config/routes.rb:17: syntax error, unexpected `end', expecting end-of-input
Started GET "/" for ::1 at 2024-11-09 16:47:48 -0300
  
ActionController::RoutingError (No route matches [GET] "/"):
  
Started GET "/" for ::1 at 2024-11-09 16:48:05 -0300
  
SyntaxError (/home/agustin/VitaWallet/vitawallet/config/routes.rb:3: syntax error, unexpected string literal, expecting `do' or '{' or '('
  get '/prices/show', to: 'prices#sh...
      ^
/home/agustin/VitaWallet/vitawallet/config/routes.rb:3: syntax error, unexpected ',', expecting `end'
  get '/prices/show', to: 'prices#show'  root 'pri...
                    ^
/home/agustin/VitaWallet/vitawallet/config/routes.rb:3: syntax error, unexpected local variable or method, expecting end-of-input
.../show', to: 'prices#show'  root 'prices#welcome'
...                           ^~~~
):
  
config/routes.rb:3: syntax error, unexpected string literal, expecting `do' or '{' or '('
config/routes.rb:3: syntax error, unexpected ',', expecting `end'
config/routes.rb:3: syntax error, unexpected local variable or method, expecting end-of-input
config/routes.rb:3: syntax error, unexpected string literal, expecting `do' or '{' or '('
config/routes.rb:3: syntax error, unexpected ',', expecting `end'
config/routes.rb:3: syntax error, unexpected local variable or method, expecting end-of-input
Started GET "/" for ::1 at 2024-11-09 16:48:10 -0300
  
SyntaxError (/home/agustin/VitaWallet/vitawallet/config/routes.rb:3: syntax error, unexpected local variable or method, expecting `end'
.../show', to: 'prices#show'  root 'prices#welcome'
...                           ^~~~
/home/agustin/VitaWallet/vitawallet/config/routes.rb:17: syntax error, unexpected `end', expecting end-of-input):
  
config/routes.rb:3: syntax error, unexpected local variable or method, expecting `end'
config/routes.rb:17: syntax error, unexpected `end', expecting end-of-input
config/routes.rb:3: syntax error, unexpected local variable or method, expecting `end'
config/routes.rb:17: syntax error, unexpected `end', expecting end-of-input
Started GET "/" for ::1 at 2024-11-09 16:48:19 -0300
Processing by PricesController#welcome as HTML
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 103)


Started GET "/" for ::1 at 2024-11-09 16:48:56 -0300
Processing by PricesController#welcome as HTML
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 102)


Started GET "/" for ::1 at 2024-11-09 16:49:07 -0300
Processing by PricesController#welcome as HTML
Completed 200 OK in 0ms (Views: 0.1ms | Allocations: 103)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "balance_usd", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Usuario 1"], ["balance_usd", "946.0"], ["created_at", "2024-11-09 20:20:04.574070"], ["updated_at", "2024-11-09 20:20:04.574070"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "balance_usd", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Usuario 2"], ["balance_usd", "617.0"], ["created_at", "2024-11-09 20:20:04.577443"], ["updated_at", "2024-11-09 20:20:04.577443"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "balance_usd", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Usuario 3"], ["balance_usd", "873.0"], ["created_at", "2024-11-09 20:20:04.579917"], ["updated_at", "2024-11-09 20:20:04.579917"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "balance_usd", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Usuario 4"], ["balance_usd", "850.0"], ["created_at", "2024-11-09 20:20:04.582154"], ["updated_at", "2024-11-09 20:20:04.582154"]]
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "balance_usd", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Usuario 5"], ["balance_usd", "798.0"], ["created_at", "2024-11-09 20:20:04.584328"], ["updated_at", "2024-11-09 20:20:04.584328"]]
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
Started GET "/users/1" for ::1 at 2024-11-09 17:21:33 -0300
  
ActionController::RoutingError (No route matches [GET] "/users/1"):
  
Started GET "/api/users/1" for ::1 at 2024-11-09 17:32:29 -0300
Processing by Api::UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:19:in `show'
Completed 204 No Content in 14ms (ActiveRecord: 4.4ms | Allocations: 9159)


Started GET "/api/users/1" for ::1 at 2024-11-09 17:34:02 -0300
Processing by Api::UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:19:in `show'
Completed 204 No Content in 5ms (ActiveRecord: 1.4ms | Allocations: 3811)


Started GET "/users/1" for ::1 at 2024-11-09 17:34:06 -0300
  
ActionController::RoutingError (No route matches [GET] "/users/1"):
  
Started GET "/api/users/1" for ::1 at 2024-11-09 17:34:20 -0300
Processing by Api::UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:19:in `show'
Completed 204 No Content in 1ms (ActiveRecord: 0.2ms | Allocations: 447)


Started GET "/users/sign_in" for ::1 at 2024-11-09 17:34:27 -0300
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in"):
  
Started GET "/" for ::1 at 2024-11-09 17:34:30 -0300
Processing by PricesController#welcome as HTML
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 101)


Started GET "/api/users/1" for ::1 at 2024-11-09 17:34:39 -0300
Processing by Api::UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:19:in `show'
Completed 204 No Content in 1ms (ActiveRecord: 0.1ms | Allocations: 447)


Started GET "/api/users/1" for ::1 at 2024-11-09 17:34:39 -0300
Processing by Api::UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:19:in `show'
Completed 204 No Content in 1ms (ActiveRecord: 0.1ms | Allocations: 448)


Started GET "/" for ::1 at 2024-11-09 17:35:20 -0300
Processing by PricesController#welcome as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 103)


Started GET "/api/users/1" for ::1 at 2024-11-09 17:35:27 -0300
Processing by Api::UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:19:in `show'
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.6ms | Allocations: 3880)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Started GET "/api/users/1" for ::1 at 2024-11-09 17:37:30 -0300
Processing by Api::UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:19:in `show'
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 1.3ms | Allocations: 3951)


Started GET "/api/users/1" for ::1 at 2024-11-09 17:43:26 -0300
Processing by Api::UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/api/users_controller.rb:20:in `show'
Completed 500 Internal Server Error in 12ms (ActiveRecord: 2.4ms | Allocations: 8855)


  
NoMethodError (undefined method `nombre' for #<User:0x00005570cb0a4268>):
  
app/controllers/api/users_controller.rb:21:in `show'
Started GET "/" for ::1 at 2024-11-09 17:44:58 -0300
Processing by PricesController#welcome as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 119)


Started GET "/" for ::1 at 2024-11-09 17:45:18 -0300
Processing by PricesController#welcome as HTML
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 124)


Started GET "/" for ::1 at 2024-11-09 17:45:50 -0300
Processing by PricesController#welcome as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 133)


Started GET "/prices/show" for ::1 at 2024-11-09 17:50:14 -0300
  
SyntaxError (/home/agustin/VitaWallet/vitawallet/app/controllers/prices_controller.rb:9: syntax error, unexpected local variable or method, expecting '}'
        mas_info: "Para obtener la informacio...
        ^~~~~~~~
/home/agustin/VitaWallet/vitawallet/app/controllers/prices_controller.rb:10: syntax error, unexpected '}', expecting `end'
      }
      ^
/home/agustin/VitaWallet/vitawallet/app/controllers/prices_controller.rb:31: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/prices_controller.rb:9: syntax error, unexpected local variable or method, expecting '}'
app/controllers/prices_controller.rb:10: syntax error, unexpected '}', expecting `end'
app/controllers/prices_controller.rb:31: syntax error, unexpected end-of-input, expecting `end'
app/controllers/prices_controller.rb:9: syntax error, unexpected local variable or method, expecting '}'
app/controllers/prices_controller.rb:10: syntax error, unexpected '}', expecting `end'
app/controllers/prices_controller.rb:31: syntax error, unexpected end-of-input, expecting `end'
Started GET "/prices/show" for ::1 at 2024-11-09 17:51:18 -0300
Processing by PricesController#show as HTML
Completed 200 OK in 234ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 1063)


Started GET "/" for ::1 at 2024-11-09 17:51:22 -0300
Processing by PricesController#welcome as HTML
Completed 200 OK in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms | Allocations: 129)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_try_advisory_lock(262461671747604945)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT pg_advisory_unlock(262461671747604945)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("name", "balance_usd", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Usuario 1"], ["balance_usd", "755.0"], ["created_at", "2024-11-09 21:02:39.177143"], ["updated_at", "2024-11-09 21:02:39.177143"]]
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "balance_usd", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Usuario 2"], ["balance_usd", "940.0"], ["created_at", "2024-11-09 21:02:39.181531"], ["updated_at", "2024-11-09 21:02:39.181531"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "balance_usd", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Usuario 3"], ["balance_usd", "686.0"], ["created_at", "2024-11-09 21:02:39.184755"], ["updated_at", "2024-11-09 21:02:39.184755"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("name", "balance_usd", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Usuario 4"], ["balance_usd", "692.0"], ["created_at", "2024-11-09 21:02:39.187084"], ["updated_at", "2024-11-09 21:02:39.187084"]]
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Create (0.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "balance_usd", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Usuario 5"], ["balance_usd", "455.0"], ["created_at", "2024-11-09 21:02:39.189570"], ["updated_at", "2024-11-09 21:02:39.189570"]]
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for ::1 at 2024-11-09 18:03:56 -0300
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by PricesController#welcome as HTML
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 3154)


Started GET "/users/sign_in" for ::1 at 2024-11-11 18:06:00 -0300
  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActionController::RoutingError (No route matches [GET] "/users/sign_in"):
  
Started GET "/favicon.ico" for ::1 at 2024-11-11 18:06:00 -0300
  
ActionController::RoutingError (No route matches [GET] "/favicon.ico"):
  
Started GET "/" for ::1 at 2024-11-11 18:06:05 -0300
Processing by PricesController#welcome as HTML
Completed 200 OK in 0ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 401)


Started GET "/proyectos" for ::1 at 2024-11-11 18:06:08 -0300
  
ActionController::RoutingError (No route matches [GET] "/proyectos"):
  
Started GET "/prices/show" for ::1 at 2024-11-11 18:06:09 -0300
Processing by PricesController#show as HTML
Completed 200 OK in 55ms (Views: 0.2ms | ActiveRecord: 0.0ms | Allocations: 1760)


